<html>

<head>
    <script>
        var $ = jQuery = require("jquery")
    </script>
    <script src="libraries/jquery-1.12.4.js"></script>
    <script src="libraries/jquery-ui.js"></script>
    <script src="node_modules/persian-date/dist/persian-date.js" type="text/javascript"></script>
    <script src="node_modules/persian-datepicker/dist/js/persian-datepicker.js" type="text/javascript"></script>
    <script src="libraries/jquery-editable-select.min.js"></script>
    <link href="libraries/jquery-editable-select.min.css"
          rel="stylesheet">
    <link rel="stylesheet" href="node_modules/persian-datepicker/dist/css/persian-datepicker.css"/>
    <style>
        body {
            display: flex;
            min-height: 100vh;
            flex-direction: column;
            background-color: #FFFFFF !important;
        }

        main {
            flex: 1 0 auto;
        }

        body {
            background: #fff;
            font-family: IRANSansMobileFaNum-Light;
        }

        .container {
            direction: rtl;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
            width: 100%;
        }

        .row {
            direction: rtl;
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            align-items: flex-start;
            width: 100%;
        }

        .input-field {
            direction: rtl;
        }

        .input-field input[type=date]:focus + label,
        .input-field input[type=text]:focus + label,
        .input-field input[type=password]:focus + label {
            color: #e91e63;
        }

        .input-field input[type=date]:focus,
        .input-field input[type=text]:focus,
        .input-field input[type=password]:focus {
            border-bottom: 2px solid #e91e63;
            box-shadow: none;
        }

        @font-face {
            font-family: IRANSans-Light;
            src: url("./fonts/IRANSans-Light.eot") format('eot'),
            url("./fonts/IRANSans-Light.woff") format('woff'),
            url("./fonts/IRANSans-Light.ttf") format('truetype');
        }

        @font-face {
            font-family: IRANSansMobile-Bold;
            src: url("./fonts/IRANSansMobile-Bold.eot") format('eot'),
            url("./fonts/IRANSansMobile-Bold.woff") format('woff'),
            url("./fonts/IRANSansMobile-Bold.ttf") format('truetype');
        }

        @font-face {
            font-family: IRANSansMobileFaNum-Light;
            src: url("./fonts/IRANSansMobileFaNum-Light.eot") format('eot'),
            url("./fonts/IRANSansMobileFaNum-Light.woff") format('woff'),
            url("./fonts/IRANSansMobileFaNum-Light.ttf") format('truetype');
        }

        .font-text-light {
            font-family: IRANSans-Light;
        }

        .font-text-bold {
            font-family: IRANSansMobile-Bold;
        }

        .placeholder {
            direction: rtl;
            text-align: right;
            float: right;
            margin-left: 2.5px;
            margin-right: 2.5px;
            color: rgb(45 47 146);
            font-size: 12px;
        }

        #loading {
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            position: fixed;
            display: none;
            opacity: 0.7;
            background-color: #fff;
            z-index: 99;
            text-align: center;
        }

        #loading-image {
            position: absolute;
            top: 150px;
            left: 300px;
            z-index: 100;
        }

        .menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: IRANSans-Light;
            font-size: 12px;
            cursor: pointer;
        }

        .menu-item span {
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-left: 5px;
            margin-right: 5px;
        }

        .top-container {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: center;
            flex: 1;
        }

        .top-container div {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .input-container {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            margin-top: 5px;
            margin-bottom: 5px;
            width: 100%;
        }

        .group-input-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            border-width: 0.5px;
            padding: 5px;
            width: inherit;
        }

        .textInput {
            margin-left: 2.5px;
            margin-right: 2.5px;
            width: -webkit-fill-available;
            background-image: linear-gradient(
                    89deg, #130de622, white) !important;
            border-width: 0.5px;
            border-radius: 5px
        }

        .tableTextInput {
            margin-left: 2.5px;
            margin-right: 2.5px;
            width: 63px;
        }

        .styled-table {
            border-collapse: collapse;
            font-size: 0.8em;
            min-width: 400px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
        }

        .styled-table thead tr {
            background-image: linear-gradient(181deg, rgb(45 47 146), #f1ebeb8c);
            color: #ffffff;
            text-align: left;
        }

        .styled-table th,
        .styled-table td {
            padding: 12px 15px;
            text-align: center;
            font-size: 12px;
        }

        .styled-table tbody tr {
            border-bottom: 1px solid #dddddd;
        }

        .styled-table tbody tr:nth-of-type(even) {
            background-color: #f3f3f3;
        }

        .styled-table tbody tr:last-of-type {
            border-bottom: 2px solid #009879;
        }

        .styled-table tbody tr.active-row {
            font-weight: bold;
            color: #009879;
        }

        /* The Modal (background) */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0, 0, 0); /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
            -webkit-animation-name: fadeIn; /* Fade in the background */
            -webkit-animation-duration: 0.4s;
            animation-name: fadeIn;
            animation-duration: 0.4s
        }

        /* Modal Content */
        .modal-content {
            position: fixed;
            bottom: 0;
            background-color: #fefefe;
            width: 100%;
            -webkit-animation-name: slideIn;
            -webkit-animation-duration: 0.4s;
            animation-name: slideIn;
            animation-duration: 0.4s
        }

        /* The Close Button */
        .close {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

        .modal-header {
            padding: 2px 16px;
            background-color: #5cb85c;
            color: white;
        }

        .modal-body {
            padding: 2px 16px;
        }

        .modal-footer {
            padding: 2px 16px;
            background-color: #5cb85c;
            color: white;
        }

        /* Add Animation */
        @-webkit-keyframes slideIn {
            from {
                bottom: -300px;
                opacity: 0
            }
            to {
                bottom: 0;
                opacity: 1
            }
        }

        @keyframes slideIn {
            from {
                bottom: -300px;
                opacity: 0
            }
            to {
                bottom: 0;
                opacity: 1
            }
        }

        @-webkit-keyframes fadeIn {
            from {
                opacity: 0
            }
            to {
                opacity: 1
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0
            }
            to {
                opacity: 1
            }
        }

        .btn-submit {
            margin-right: 10px;
            padding-left: 10px;
            padding-right: 10px;
            height: 30px;
            background-image: linear-gradient(rgb(45 47 146), white);
            border: 0;
            border-radius: 10px;
            margin-top: 10px;
            cursor: pointer;
            font-family: IRANSansMobile-Bold;
        }

        #apartment {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #vila {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #mostaghelat {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #kolangi {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #office {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #pool {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #sona {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #jakoozi {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #view {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #documentState {
            width: 100px;
            font-family: IRANSans-Light;
        }

        #InformationSource {
            width: 100px;
            font-family: IRANSans-Light;
        }

        div#equipmentList {
            display: flex;
            flex-wrap: wrap;
            width: 100vw;
            height: auto;
        }

        .equipment {
            width: 25%;
            height: auto;
            flex: 0 1 25%;
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        div#equipmentResultList {
            display: flex;
            flex-wrap: wrap;
            height: auto;
        }

        .equipmentResult {
            width: 10%;
            height: auto;
            flex: 0 1 10%;
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        #watermark
        {
            position:fixed;
            bottom:10px;
            left: 10px;
            opacity:0.5;
            z-index:99;
            color:red;
        }

        .contactName {
            position: absolute;
            top: -8px;
            font-size: 11px;
            color: #3a81cc;
        }
    </style>
</head>

<body>

<script src="libraries/jalali-moment.browser.js"></script>

<div id="loading">
    <img id="loading-image" src="images/loading.gif" alt="Loading..."/>
</div>
<main class="z-depth-1 grey lighten-4 row">
    <div id="watermark"></div>

    <div class='container'>

        <div class="row">

            <div class="group-input-container">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px">تلفن:</label>
                    <p id="contact1" class="contactName" style="right: 55px; display: none"></p>
                    <input class='validate textInput font-text-light' type='number' name='tel1'
                           id='tel1' onfocusout="onTelephoneInputFocusOut('tel1')"/>
                    <p id="contact2" class="contactName" style="right: 195px; display: none"></p>
                    <input class='validate textInput font-text-light' type='number' name='tel2'
                           id='tel2' onfocusout="onTelephoneInputFocusOut('tel2')"/>
                    <p id="contact3" class="contactName" style="right: 335px; display: none"></p>
                    <input class='validate textInput font-text-light' type='number' name='tel3'
                           id='tel3' onfocusout="onTelephoneInputFocusOut('tel3')"/>
                    <p id="contact4" class="contactName" style="right: 475px; display: none"></p>
                    <input class='validate textInput font-text-light' type='number' name='tel4'
                           id='tel4' onfocusout="onTelephoneInputFocusOut('tel4')"/>
                    <p id="contact5" class="contactName" style="right: 615px; display: none"></p>
                    <input class='validate textInput font-text-light' type='number' name='tel5'
                           id='tel5' onfocusout="onTelephoneInputFocusOut('tel5')"/>
                </div>
                <div class="input-container">
                    <label class="active font-text-light placeholder">آدرس:</label>
                    <input class='validate textInput font-text-light' type='text' name='address'
                           id='address' style="width: 100%"/>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px">مالک:</label>
                    <input class='validate textInput font-text-light' type='text' name='owner'
                           id='owner'/>
                </div>
                <div class="input-container">
                    <label class="active font-text-light placeholder">منطقه:</label>
                    <div style="width: 100%; display: flex">
                        <select class='validate textInput font-text-light' name='regionCode'
                                id='regionCode' style="width: 30%" onchange="onRegionCodeChange()">
                        </select>
                        <select class='validate textInput font-text-light' name='regionName'
                                id='regionName' style="width: 70%">
                        </select>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px">تاریخ:</label>
                    <input class='validate textInput font-text-light date-picker' type='text' name='date'
                           id='date'/>
                </div>
                <div class="input-container">
                    <label class="active font-text-light placeholder">شماره:</label>
                    <input class='validate textInput font-text-light' name='number'
                           id='number' style="width: 100%"/>
                </div>
            </div>

        </div>

        <div class="row">

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">فروش</label>
                        <input type="checkbox" class="radio" value="فروش" id="sale" name="saleType[]"
                               onclick="saleTypeClickEvent('فروش')"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">اجاره</label>
                        <input type="checkbox" class="radio" value="اجاره" id="rent" name="saleType[]"
                               onclick="saleTypeClickEvent('اجاره')"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">رهن</label>
                        <input type="checkbox" class="radio" value="رهن" id="mortgage" name="saleType[]"
                               onclick="saleTypeClickEvent('رهن')"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">مشارکت</label>
                        <input type="checkbox" class="radio" value="مشارکت" id="partnership" name="saleType[]"
                               onclick="saleTypeClickEvent('مشارکت')"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">معاوضه</label>
                        <input type="checkbox" class="radio" value="معاوضه" id="exchange" name="saleType[]"
                               onclick="saleTypeClickEvent('معاوضه')"/>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="color: rgb(45 47 146)" for="apartment">آپارتمان</label>

                        <select class="textInput" name="apartment" id="apartment">
                        </select>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="color: rgb(45 47 146)"
                               for="vila">ویلا</label>

                        <select class="textInput" name="vila" id="vila">
                        </select>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="color: rgb(45 47 146)"
                               for="mostaghelat">مستغلات</label>

                        <select class="textInput" name="mostaghelat" id="mostaghelat">
                        </select>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="color: rgb(45 47 146)">خارجی</label>
                        <input type="checkbox" class="radio" value="1" name="foreign[1][]" id="home"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="color: rgb(45 47 146)"
                               for="kolangi">کلنگی</label>

                        <select class="textInput" name="kolangi" id="kolangi">
                        </select>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="color: rgb(45 47 146)" for="office">دفتر
                            کار</label>

                        <select class="textInput" name="office" id="office">
                        </select>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="color: rgb(45 47 146)">مغازه</label>
                        <input type="checkbox" class="radio" value="1" name="store[1][]" id="store"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="color: rgb(45 47 146)">سوییت</label>
                        <input type="checkbox" class="radio" value="1" name="suite[1][]" id="suite"/>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">شمالی</label>
                        <input type="checkbox" class="radio" value="1" id="north"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">جنوبی</label>
                        <input type="checkbox" class="radio" value="1" id="south"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">شرقی</label>
                        <input type="checkbox" class="radio" value="1" id="east"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">غربی</label>
                        <input type="checkbox" class="radio" value="1" id="west"/>
                    </div>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="group-input-container">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px;">تعداد طبقات:</label>
                    <input class='validate textInput font-text-light' type='number' name='tabaghat'
                           id='tabaghat' style="width: 30%"/>

                    <label class="active font-text-light placeholder" style="margin-right: 10px;">تعداد واحد:</label>
                    <input class='validate textInput font-text-light' type='number' name='vahed'
                           id='vahed' style="width: 35%"/>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">

                    <label class="active font-text-light placeholder" style="margin-right: 10px; width: 350px"
                           id='totalPriceLabel'>قیمت
                        کل:</label>
                    <input class='validate textInput font-text-light' type='number' name='totalPrice'
                           id='totalPrice'/>
                    <label class="active font-text-light placeholder" id='metriLabel'>متری:</label>
                    <input class='validate textInput font-text-light' type='number' name='metri'
                           id='metri' style="width: 100%"/>

                    <label class="active font-text-light placeholder"
                           style="margin-right: 10px; width: 350px; display: none" id='mortgagePriceLabel'>
                        ودیعه:</label>
                    <input class='validate textInput font-text-light' type='number' name='mortgagePrice'
                           id='mortgagePrice' style="display: none"/>
                    <label class="active font-text-light placeholder" id='rentPriceLabel'
                           style="display: none">اجاره:</label>
                    <input class='validate textInput font-text-light' type='number' name='rentPrice'
                           id='rentPrice' style="width: 100%; display: none"/>

                    <label class="active font-text-light placeholder">توضیح:</label>
                    <input class='validate textInput font-text-light' name='description'
                           id='priceComment' style="width: 100%"/>
                    <input class='validate textInput font-text-light' name='description'
                           id='unitComment' style="width: 100%; display: none"/>
                </div>
            </div>
        </div>

        <div style="display: flex; align-items: center">
            <input id="addTableButton" type="image" src="images/plus.png" style="width: 20px; height: 20px"
                   onclick="onAddTableClick()"/>
            <input id="removeTableButton" type="image" src="images/removeRow.png" style="width: 20px; height: 20px; margin-right: 10px"
                   onclick="onRemoveTableClick()"/>
        </div>
        <div class="row">
            <table class="styled-table">
                <thead>
                <tr>
                    <th>طبقات</th>
                    <th>زیربنا</th>
                    <th>خواب</th>
                    <th>بالکن</th>
                    <th>تلفن</th>
                    <th>سرویس آشپزخانه</th>
                    <th>open</th>
                    <th>سرویس بهداشتی</th>
                    <th>کف پوش</th>
                    <th>پارکینگ</th>
                    <th>انباری</th>
                    <th>قیمت کل</th>
                    <th>متری</th>
                </tr>
                </thead>
                <tbody id="tableRow">
                <tr>
                    <td>
                        <input class='validate textInput tableTextInput font-text-light' type='number' name='tableFloor'
                               id='tableFloor0'/>
                    </td>
                    <td>
                        <input class='validate textInput tableTextInput font-text-light' type='number'
                               name='tableZirBana'
                               id='tableZirBana0'/>
                    </td>
                    <td>
                        <input class='validate textInput tableTextInput font-text-light' type='number' name='tableKhab'
                               id='tableKhab0'/>
                    </td>
                    <td>
                        <input type="checkbox" class="radio" value="1"
                               name='tableBalcon'
                               id='tableBalcon0'/>
                    </td>
                    <td>
                        <select class="textInput tableTextInput font-text-light" name="tableTelephone" id="tableTelephone0">
                        </select>
                    </td>
                    <td>
                        <select class="textInput tableTextInput font-text-light" name="tableKitchen" id="tableKitchen0">
                        </select>
                    </td>
                    <td>
                        <input type="checkbox" class="radio" value="1" name="tableOpen" id='tableOpen0'/>
                    </td>
                    <td>
                        <select class="textInput tableTextInput font-text-light" name="tableWC" id="tableWC0">
                        </select>
                    </td>
                    <td>
                        <select class="textInput tableTextInput font-text-light" name="tableKafPoosh" id="tableKafPoosh0">
                        </select>
                    </td>
                    <td>
                        <select class="textInput tableTextInput font-text-light" name="tableParking" id="tableParking0">
                        </select>
                    </td>
                    <td>
                        <select class="textInput tableTextInput font-text-light" name="tableAnbari" id="tableAnbari0">
                        </select>
                    </td>
                    <td>
                        <input class='validate textInput tableTextInput font-text-light' type='number'
                               name='tableTotalAmount'
                               id='tableTotalAmount0'/>
                    </td>
                    <td>
                        <input class='validate textInput tableTextInput font-text-light' type='number' name='tableMetri'
                               id='tableMetri0'/>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="row" style="border-style: groove; border-width: 0.5px;">
            <div style="flex: 1;">
                <button style="border-width: 0.5px; font-family: IRANSans-Light; background-image: linear-gradient(89deg, #130de622, white) !important;"
                        type="button" onclick="onFacilityClick()">امکانات
                </button>
                <div id="equipmentResultList">
                </div>
            </div>
            <div style="flex: 0">
                <div class="group-input-container">
                    <div class="input-container">
                        <label class="active font-text-light placeholder" style="color: #100f8a; margin-left: 3px"
                               for="pool">استخر:</label>
                        <select class="textInput" name="pool" id="pool">
                        </select>
                    </div>
                </div>
                <div class="group-input-container">
                    <div class="input-container">
                        <label class="active font-text-light placeholder"
                               style="color: #100f8a; margin-left: 3px; margin-right: 15px;"
                               for="sona">سونا:</label>
                        <select class="textInput" name="sona" id="sona">
                        </select>
                    </div>
                </div>
                <div class="group-input-container">
                    <div class="input-container">
                        <label class="active font-text-light placeholder" style="color: #100f8a; margin-left: 3px"
                               for="jakoozi">جکوزی:</label>
                        <select class="textInput" name="jakoozi" id="jakoozi">
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">مساحت</label>
                        <input class='validate textInput font-text-light' style="width: 71px" type='number' name='area'
                               id='area'/>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">تراکم</label>
                        <input class='validate textInput font-text-light' style="width: 71px" type='number'
                               name='density'
                               id='density'/>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">طول بر</label>
                        <input class='validate textInput font-text-light' style="width: 71px" type='number'
                               name='toolBar'
                               id='toolBar'/>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">ارتفاع</label>
                        <input class='validate textInput font-text-light' style="width: 71px" type='number'
                               name='height'
                               id='height'/>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">اصلاحی</label>
                        <select class="textInput tableTextInput font-text-light" name="corrective" id="corrective">
                        </select>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">حیاط</label>
                        <select class="textInput tableTextInput font-text-light" name="yard" id="yard">
                        </select>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">حیاط خلوت</label>
                        <select class="textInput tableTextInput font-text-light" name="backYard" id="backYard">
                        </select>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color:rgb(45 47 146);">زیرزمین</label>
                        <select class="textInput tableTextInput font-text-light" name="basement" id="basement">
                        </select>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="width: 70px; font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">سرویس مستخدم</label>
                        <select class="textInput tableTextInput font-text-light" name="employeeService" id="employeeService">
                        </select>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">پاسیو</label>
                        <select class="textInput tableTextInput font-text-light" name="patio" id="patio">
                        </select>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">سکونت مالک</label>
                        <select class="textInput tableTextInput font-text-light" name="residenceOwner" id="residenceOwner">
                        </select>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">مسکونی</label>
                        <input type="checkbox" class="radio" value="1" name="residential" id="residential"
                               style="margin-bottom: 11px"/>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">تخلیه</label>
                        <input type="checkbox" class="radio" value="1" name="discharge" id="discharge"
                               style="margin-bottom: 11px"/>
                    </div>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder"
                               style="font-size: 10px; margin-right: 10px; color: rgb(45 47 146);">اجاره</label>
                        <input type="checkbox" class="radio" value="1" name="rent" id="rented"
                               style="margin-bottom: 11px"/>
                    </div>
                </div>
            </div>

        </div>

        <div class="row">

            <div class="group-input-container">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px; width: 50px; ">سن
                        بنا:</label>
                    <input class='validate textInput font-text-light' type='number' name='ageBuilding'
                           id='ageBuilding'/>
                </div>
            </div>

            <div class="group-input-container" style="height: 37px">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px">نما:</label>
                    <select class="textInput" name="view" id="view">
                    </select>
                </div>
            </div>

            <div class="group-input-container" style="height: 37px">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px">وضعیت سند:</label>
                    <select class="textInput" name="documentState" id="documentState">
                    </select>
                </div>
            </div>

            <div class="group-input-container" style="height: 37px">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px">منبع اطلاعاتی:</label>
                    <select class="textInput" name="InformationSource" id="InformationSource">
                    </select>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <input type="checkbox" class="radio" value="1" name="isHurry" id="isHurry"
                           style="margin-bottom: 11px"/>
                    <label class="active font-text-light placeholder" style="margin-right: 10px">مالک عجله دارد</label>
                </div>
            </div>

            <div class="group-input-container">
                <div class="input-container">
                    <label class="active font-text-light placeholder" style="margin-right: 10px; width: 100px">تنظیم
                        کننده:</label>
                    <input class='validate textInput font-text-light' type='text' name='ownerName'
                           id='ownerName' value="گیلان فایل" disabled/>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="group-input-container" style="height: 67px">
                <div class="input-container">
                    <label class="active font-text-light placeholder"
                           style="margin-right: 10px; width: 50px; ">توضیحات:</label>
                    <input style="height: 50px" class='validate textInput font-text-light' type='text' name='additionalDescription'
                           id='additionalDescription'/>
                </div>
            </div>

            <div class="group-input-container" style="flex: 0">
                <div class="input-container">
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">همه</label>
                        <input type="checkbox" class="radio" value="1" id="allParticipation" name="participation[]"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">خصوصی</label>
                        <input type="checkbox" class="radio" value="1" id="privateParticipation"
                               name="participation[]"/>
                    </div>
                    <div class="checkbox-item">
                        <label class="active font-text-light placeholder" style="margin-right: 10px">تعاون مشاور</label>
                        <input type="checkbox" class="radio" value="1" id="consultingCooperativeParticipation"
                               name="participation[]"/>
                    </div>
                </div>
            </div>
        </div>

        <div style="display: flex; width: 100%">
            <button id="btn-submit" class="btn-submit">ثبت</button>
            <button id="btn-print" class="btn-submit" style="margin-right: 10px" onclick="onFilePrintClick()"
                    hidden>پرینت
            </button>
            <button id="btn-next" class="btn-submit" style="margin-right: 10px" onclick="onNextPrintClick()"
                    hidden>بعدی
            </button>
            <button id="btn-prev" class="btn-submit" style="margin-right: 10px" onclick="onPrevPrintClick()"
                    hidden>قبلی
            </button>
            <div style="display: flex; justify-content: flex-end; flex: 1">
                <button style="background-image: linear-gradient(rgb(146 45 73), white);" id="btn-delete"
                        class="btn-submit" onclick="onFileStateChange('delete')" hidden>حذف
                </button>
                <button style="background-image: linear-gradient(rgb(146 45 73), white);" id="btn-sold"
                        class="btn-submit" onclick="onFileStateChange('sold')" hidden>فروش رفت
                </button>
                <button style="background-image: linear-gradient(rgb(146 45 73), white);" id="btn-rented"
                        class="btn-submit" onclick="onFileStateChange('rented')" hidden>اجاره رفت
                </button>
                <button style="background-image: linear-gradient(rgb(146 45 73), white);" id="btn-dontCall"
                        class="btn-submit" onclick="onFileStateChange('dontCall')" hidden>تماس نگیرید
                </button>
            </div>
        </div>

    </div>

    <!-- The Modal -->
    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2>امکانات</h2>
            </div>
            <div class="modal-body">
                <div id="equipmentList">
                    <!--<div class="equipment">
                        <label>تست1</label>
                        <input type="checkbox" />
                    </div>-->
                </div>
                <div style="display: flex; justify-content: center; margin-top: 20px; margin-bottom: 20px;">
                    <button id="btn-submit-modal" class="btn-submit">ثبت</button>
                </div>
            </div>
        </div>

    </div>

</main>

<script>
    const StringUtils = require('./utils/StringUtils');
    const electron = require('electron');
    const _ = require('underscore');
    const {ipcRenderer} = electron;
    const Store = require('electron-store');
    const store = new Store();
    var regionCodeList = [];
    var equipments = [];
    var isEdit = false;
    var isDisabled = false;
    var editFile = undefined;

    document.getElementById('ownerName').value = !_.isEmpty(store.get('publisher')) ?
        store.get('publisher') : document.getElementById('ownerName').value;

    function onPrevPrintClick() {
        if (isEdit) {
            ipcRenderer.send('getPrevFile', editFile);
        }
    }

    function onNextPrintClick() {
        if (isEdit) {
            ipcRenderer.send('getNextFile', editFile);
        }
    }

    ipcRenderer.send('getEditFile');

    ipcRenderer.on('sendFileFromMain', function (event, file) {
        if (!_.isEmpty(file)) {
            editFile = file;
            isEdit = true;

            var equipmentResultListDiv = document.getElementById("equipmentResultList");
            for (var i = 0; i < file.equipments.length; i++) {
                checkedEquipmentList.push(file.equipments[i]);
                var equipmentResultDiv = document.createElement('DIV');
                equipmentResultDiv.className = 'equipmentResult';
                equipmentResultDiv.innerHTML = file.equipments[i];
                equipmentResultListDiv.appendChild(equipmentResultDiv);
                equipments.push(file.equipments[i]);
            }

            document.querySelector('#number').value = file.Id;
            document.querySelector('#tel1').value = file.tel1;
            document.querySelector('#tel2').value = file.tel2;
            document.querySelector('#tel3').value = file.tel3;
            document.querySelector('#tel4').value = file.tel4;
            document.querySelector('#tel5').value = file.tel5;
            document.querySelector('#address').value = file.address;
            document.querySelector('#owner').value = file.owner;
            document.querySelector('#regionCode').value = file.regionCode;
            onRegionCodeChange();
            document.querySelector('#regionName').value = file.regionName;
            document.querySelector('#date').value = StringUtils.convertMillisecondToShamsi(file.date);
            document.querySelector('#rentPrice').value = file.rent;
            document.querySelector('#sale').checked = file.sale === 'فروش';
            document.querySelector('#rent').checked = file.sale === 'اجاره';
            document.querySelector('#mortgage').checked = file.sale === 'رهن';
            document.querySelector('#partnership').checked = file.sale === 'مشارکت';
            document.querySelector('#exchange').checked = file.sale === 'معاوضه';
            document.querySelector('#mortgagePrice').value = file.mortgage;
            document.querySelector('#apartment').value = file.apartment;
            document.querySelector('#vila').value = file.vila;
            document.querySelector('#mostaghelat').value = file.building;
            document.querySelector('#home').checked = file.home;
            document.querySelector('#kolangi').value = file.oldHouse;
            document.querySelector('#office').value = file.office;
            document.querySelector('#store').checked = file.store;
            document.querySelector('#suite').checked = file.suite;
            document.querySelector('#north').checked = file.north;
            document.querySelector('#south').checked = file.south;
            document.querySelector('#east').checked = file.east;
            document.querySelector('#west').checked = file.west;
            document.querySelector('#tabaghat').value = file.floorNo;
            document.querySelector('#vahed').value = file.unitNo;
            document.querySelector('#unitComment').value = file.unitComment;
            document.querySelector('#totalPrice').value = file.totalPrice;
            document.querySelector('#metri').value = file.unitPrice;
            document.querySelector('#priceComment').value = file.priceComment;
            document.querySelector('#pool').checked = file.pool;
            document.querySelector('#sona').checked = file.sona;
            document.querySelector('#jakoozi').checked = file.jakozi;
            document.querySelector('#area').value = file.area;
            document.querySelector('#density').value = file.density;
            document.querySelector('#toolBar').value = file.front;
            document.querySelector('#height').value = file.height;
            document.querySelector('#corrective').value = file.modify;
            document.querySelector('#yard').value = file.yard;
            document.querySelector('#backYard').value = file.smallYard;
            document.querySelector('#basement').value = file.underGround;
            document.querySelector('#employeeService').value = file.employeeService;
            document.querySelector('#patio').value = file.patio;
            document.querySelector('#residential').checked = file.residential;
            document.querySelector('#discharge').value = file.empty;
            document.querySelector('#rented').value = file.rented;
            document.querySelector('#ageBuilding').value = file.age;
            document.querySelector('#view').value = file.frontKind;
            document.querySelector('#InformationSource').value = file.source;
            document.querySelector('#ownerName').value = file.publisher;
            document.querySelector('#residenceOwner').value = file.ownerInHouse;
            document.querySelector('#documentState').value = file.documentKind;
            document.querySelector('#additionalDescription').value = file.comment;
            document.querySelector('#isHurry').checked = file.inHurry;
            //equipments: equipments,
            //participation: participation,
            document.querySelector('#ownerName').value = file.username;
            document.querySelector('#tableFloor0').value = file.unitFloor;
            document.querySelector('#tableZirBana0').value = file.unitBuiltUpArea;
            document.querySelector('#tableKhab0').value = file.unitRoom;
            document.querySelector('#tableBalcon0').checked = file.unitBalcony;
            document.querySelector('#tableTelephone0').value = file.unitTelephone;
            document.querySelector('#tableKitchen0').value = file.unitKitchen;
            document.querySelector('#tableWC0').value = file.unitWC;
            document.querySelector('#tableKafPoosh0').value = file.unitFloorCovering;
            document.querySelector('#tableOpen0').checked = file.unitOpen;

            document.querySelector('#allParticipation').checked = file.participation === 'همه';
            document.querySelector('#privateParticipation').value = file.participation === 'خصوصی';
            document.querySelector('#consultingCooperativeParticipation').value = file.participation === 'تعاون مشاور';

            if (file.isDeleted || file.isSold || file.isRented || file.isDontCall) {
                isDisabled = true;
                var btnSubmit = document.getElementById("btn-submit");
                btnSubmit.innerText = 'فعالسازی فایل';

                var watermark = document.getElementById("watermark");

                if (file.isDeleted) {
                    watermark.innerText = 'فایل حذف شده است';
                } else if (file.isSold) {
                    watermark.innerText = 'فایل فروخته شده است';
                } else if (file.isRented) {
                    watermark.innerText = 'فایل اجاره داده شده است';
                } else if (file.isDontCall) {
                    watermark.innerText = 'لطفا تماس نگیرید';
                }
            } else {
                var btnDelete = document.getElementById("btn-delete");
                btnDelete.hidden = false;
                var btnSaled = document.getElementById("btn-sold");
                btnSaled.hidden = false;
                var btnRented = document.getElementById("btn-rented");
                btnRented.hidden = false;
                var btnDontCall = document.getElementById("btn-dontCall");
                btnDontCall.hidden = false;
                var btnPrint = document.getElementById("btn-print");
                btnPrint.hidden = false;
                var btnNext = document.getElementById("btn-next");
                btnNext.hidden = false;
                var btnPrev = document.getElementById("btn-prev");
                btnPrev.hidden = false;

                var btnSubmit = document.getElementById("btn-submit");
                btnSubmit.innerText = 'اصلاح';
            }

            var addTableButton = document.getElementById("addTableButton");
            addTableButton.disabled = true;

        }
    });

    ipcRenderer.send('getFileTotalCount');

    ipcRenderer.on('getFilesTotalCountFromMain', function (event, fileTotalCount) {
        if (!isEdit) {
            var number = document.getElementById('number');
            number.readOnly = true;
            number.value = 'cl-' + 10000 + fileTotalCount;
        }
    });

    function searchTelInContactList(id, telNumber) {
        var contactList = store.get('contactList');
        if (!_.isEmpty(contactList)) {
            var contact = contactList.filter(contact => contact.tel === telNumber);
            if (!_.isEmpty(contact)) {
                document.getElementById('contact' + id.split('tel')[1]).style.display = 'block';
                document.getElementById('contact' + id.split('tel')[1]).innerText = contact[0].name;
            } else {
                document.getElementById('contact' + id.split('tel')[1]).style.display = 'none';
                document.getElementById('contact' + id.split('tel')[1]).innerText = '';
            }
        }
    }

    function onTelephoneInputFocusOut(id) {
        searchTelInContactList(id, document.getElementById(id).value);
        // var telephoneInput1 = document.getElementById('tel1');
        // var telephoneInput2 = document.getElementById('tel2');
        // var telephoneInput3 = document.getElementById('tel3');
        // var telephoneInput4 = document.getElementById('tel4');
        // var telephoneInput5 = document.getElementById('tel5');
        // var blackList = store.get('configList')[0].blackList;
        // var btnSubmit = document.getElementById("btn-submit");
        //
        // if (_.contains(blackList, telephoneInput1.value) || _.contains(blackList, telephoneInput2.value) ||
        //     _.contains(blackList, telephoneInput3.value) || _.contains(blackList, telephoneInput4.value) ||
        //     _.contains(blackList, telephoneInput5.value)) {
        //     btnSubmit.disabled = true;
        //     ipcRenderer.send('showError', 'شماره ی وارد شده مسدود می باشد.');
        // } else {
        //     btnSubmit.disabled = false;
        // }
        searchFileOnTelephoneNumber(id, document.getElementById(id).value);
    }

    function searchFileOnTelephoneNumber(id, phoneNumber) {
        var request = {};
        if (!_.isEmpty(phoneNumber)) {
            request[id] = phoneNumber;
            ipcRenderer.send('searchFileOnTelephoneNumber', request);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].region)) {
        for (var i = 0; i < store.get('configList')[0].region.length; i++) {
            if (!_.contains(regionCodeList, store.get('configList')[0].region[i].regionCode)) {
                regionCodeList.push(store.get('configList')[0].region[i].regionCode)
            }
        }
    }

    function getRegionNameListFromRegionCode(regionCode) {
        var regionNameList = [];
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].region)) {
            for (var i = 0; i < store.get('configList')[0].region.length; i++) {
                if (regionCode === store.get('configList')[0].region[i].regionCode) {
                    regionNameList.push(store.get('configList')[0].region[i].regionName)
                }
            }
        }
        return regionNameList;
    }

    function onRegionCodeChange() {
        var regionCode = document.getElementById("regionCode").value;
        var regionNameSelect = document.getElementById("regionName");
        var regionNameList = getRegionNameListFromRegionCode(regionCode);
        $("#regionName").empty();
        for (var i = 0; i < regionNameList.length; i++) {
            var optionRegionName = document.createElement('option');
            optionRegionName.value = regionNameList[i];
            optionRegionName.innerHTML = regionNameList[i];
            regionNameSelect.appendChild(optionRegionName);
        }
    }

    //fill options with configs
    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].equipments)) {
        var equipmentListDiv = document.getElementById("equipmentList");
        for (var i = 0; i < store.get('configList')[0].equipments.length; i++) {
            var equipmentDiv = document.createElement('DIV');
            equipmentDiv.className = 'equipment';
            var equipmentLabel = document.createElement('LABEL');
            equipmentLabel.innerHTML = store.get('configList')[0].equipments[i];
            var equipmentCheckBox = document.createElement('INPUT');
            equipmentCheckBox.type = 'checkbox';
            equipmentCheckBox.id = store.get('configList')[0].equipments[i];
            equipmentDiv.appendChild(equipmentLabel);
            equipmentDiv.appendChild(equipmentCheckBox);
            equipmentListDiv.appendChild(equipmentDiv);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].source)) {
        var informationSourceSelect = document.getElementById("InformationSource");
        for (var i = 0; i < store.get('configList')[0].source.length; i++) {
            var optionInformationSource = document.createElement('option');
            optionInformationSource.value = store.get('configList')[0].source[i];
            optionInformationSource.innerHTML = store.get('configList')[0].source[i];
            informationSourceSelect.appendChild(optionInformationSource);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].documentKind)) {
        var documentStateSelect = document.getElementById("documentState");
        for (var i = 0; i < store.get('configList')[0].documentKind.length; i++) {
            var optionDocumentStateSource = document.createElement('option');
            optionDocumentStateSource.value = store.get('configList')[0].documentKind[i];
            optionDocumentStateSource.innerHTML = store.get('configList')[0].documentKind[i];
            documentStateSelect.appendChild(optionDocumentStateSource);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].frontKind)) {
        var viewSelect = document.getElementById("view");
        for (var i = 0; i < store.get('configList')[0].frontKind.length; i++) {
            var optionView = document.createElement('option');
            optionView.value = store.get('configList')[0].frontKind[i];
            optionView.innerHTML = store.get('configList')[0].frontKind[i];
            viewSelect.appendChild(optionView);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].jakozi)) {
        var jakooziSelect = document.getElementById("jakoozi");
        for (var i = 0; i < store.get('configList')[0].jakozi.length; i++) {
            var optionJakoozi = document.createElement('option');
            optionJakoozi.value = store.get('configList')[0].jakozi[i];
            optionJakoozi.innerHTML = store.get('configList')[0].jakozi[i];
            jakooziSelect.appendChild(optionJakoozi);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].sona)) {
        var sonaSelect = document.getElementById("sona");
        for (var i = 0; i < store.get('configList')[0].sona.length; i++) {
            var optionSona = document.createElement('option');
            optionSona.value = store.get('configList')[0].sona[i];
            optionSona.innerHTML = store.get('configList')[0].sona[i];
            sonaSelect.appendChild(optionSona);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].pool)) {
        var poolSelect = document.getElementById("pool");
        for (var i = 0; i < store.get('configList')[0].pool.length; i++) {
            var optionPool = document.createElement('option');
            optionPool.value = store.get('configList')[0].pool[i];
            optionPool.innerHTML = store.get('configList')[0].pool[i];
            poolSelect.appendChild(optionPool);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].office)) {
        var officeSelect = document.getElementById("office");
        for (var i = 0; i < store.get('configList')[0].office.length; i++) {
            var optionOffice = document.createElement('option');
            optionOffice.value = store.get('configList')[0].office[i];
            optionOffice.innerHTML = store.get('configList')[0].office[i];
            officeSelect.appendChild(optionOffice);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].oldHouse)) {
        var kolangiSelect = document.getElementById("kolangi");
        for (var i = 0; i < store.get('configList')[0].oldHouse.length; i++) {
            var optionKolangi = document.createElement('option');
            optionKolangi.value = store.get('configList')[0].oldHouse[i];
            optionKolangi.innerHTML = store.get('configList')[0].oldHouse[i];
            kolangiSelect.appendChild(optionKolangi);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].building)) {
        var mostaghelatSelect = document.getElementById("mostaghelat");
        for (var i = 0; i < store.get('configList')[0].building.length; i++) {
            var optionMostaghelat = document.createElement('option');
            optionMostaghelat.value = store.get('configList')[0].building[i];
            optionMostaghelat.innerHTML = store.get('configList')[0].building[i];
            mostaghelatSelect.appendChild(optionMostaghelat);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].vila)) {
        var vilaSelect = document.getElementById("vila");
        for (var i = 0; i < store.get('configList')[0].vila.length; i++) {
            var optionvila = document.createElement('option');
            optionvila.value = store.get('configList')[0].vila[i];
            optionvila.innerHTML = store.get('configList')[0].vila[i];
            vilaSelect.appendChild(optionvila);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].apartment)) {
        var apartmentSelect = document.getElementById("apartment");
        for (var i = 0; i < store.get('configList')[0].apartment.length; i++) {
            var optionApartment = document.createElement('option');
            optionApartment.value = store.get('configList')[0].apartment[i];
            optionApartment.innerHTML = store.get('configList')[0].apartment[i];
            apartmentSelect.appendChild(optionApartment);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].modify)) {
        var modifySelect = document.getElementById("corrective");
        for (var i = 0; i < store.get('configList')[0].modify.length; i++) {
            var optionModify = document.createElement('option');
            optionModify.value = store.get('configList')[0].modify[i];
            optionModify.innerHTML = store.get('configList')[0].modify[i];
            modifySelect.appendChild(optionModify);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].yard)) {
        var yardSelect = document.getElementById("yard");
        for (var i = 0; i < store.get('configList')[0].yard.length; i++) {
            var optionYard = document.createElement('option');
            optionYard.value = store.get('configList')[0].yard[i];
            optionYard.innerHTML = store.get('configList')[0].yard[i];
            yardSelect.appendChild(optionYard);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].backYard)) {
        var backYardSelect = document.getElementById("backYard");
        for (var i = 0; i < store.get('configList')[0].backYard.length; i++) {
            var optionBackYard = document.createElement('option');
            optionBackYard.value = store.get('configList')[0].backYard[i];
            optionBackYard.innerHTML = store.get('configList')[0].backYard[i];
            backYardSelect.appendChild(optionBackYard);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].employeeService)) {
        var employeeServiceSelect = document.getElementById("employeeService");
        for (var i = 0; i < store.get('configList')[0].employeeService.length; i++) {
            var optionEmployeeService = document.createElement('option');
            optionEmployeeService.value = store.get('configList')[0].employeeService[i];
            optionEmployeeService.innerHTML = store.get('configList')[0].employeeService[i];
            employeeServiceSelect.appendChild(optionEmployeeService);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].basement)) {
        var basementSelect = document.getElementById("basement");
        for (var i = 0; i < store.get('configList')[0].basement.length; i++) {
            var optionBasement = document.createElement('option');
            optionBasement.value = store.get('configList')[0].basement[i];
            optionBasement.innerHTML = store.get('configList')[0].basement[i];
            basementSelect.appendChild(optionBasement);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].patio)) {
        var patioSelect = document.getElementById("patio");
        for (var i = 0; i < store.get('configList')[0].patio.length; i++) {
            var optionPatio = document.createElement('option');
            optionPatio.value = store.get('configList')[0].patio[i];
            optionPatio.innerHTML = store.get('configList')[0].patio[i];
            patioSelect.appendChild(optionPatio);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].residenceOwner)) {
        var residenceOwnerSelect = document.getElementById("residenceOwner");
        for (var i = 0; i < store.get('configList')[0].residenceOwner.length; i++) {
            var optionResidenceOwner = document.createElement('option');
            optionResidenceOwner.value = store.get('configList')[0].residenceOwner[i];
            optionResidenceOwner.innerHTML = store.get('configList')[0].residenceOwner[i];
            residenceOwnerSelect.appendChild(optionResidenceOwner);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].kitchenService)) {
        var tableKitchenSelect = document.getElementById("tableKitchen0");
        for (let i = 0; i < store.get('configList')[0].kitchenService.length; i++) {
            var optionKitchen = document.createElement('option');
            optionKitchen.value = store.get('configList')[0].kitchenService[i];
            optionKitchen.innerHTML = store.get('configList')[0].kitchenService[i];
            tableKitchenSelect.appendChild(optionKitchen);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].floorCovering)) {
        var tableKafPooshSelect = document.getElementById("tableKafPoosh0");
        for (let i = 0; i < store.get('configList')[0].floorCovering.length; i++) {
            var optionFloorCovering = document.createElement('option');
            optionFloorCovering.value = store.get('configList')[0].floorCovering[i];
            optionFloorCovering.innerHTML = store.get('configList')[0].floorCovering[i];
            tableKafPooshSelect.appendChild(optionFloorCovering);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].warehouse)) {
        var tableAnbariSelect = document.getElementById("tableAnbari0");
        for (let i = 0; i < store.get('configList')[0].warehouse.length; i++) {
            var optionWarehouse = document.createElement('option');
            optionWarehouse.value = store.get('configList')[0].warehouse[i];
            optionWarehouse.innerHTML = store.get('configList')[0].warehouse[i];
            tableAnbariSelect.appendChild(optionWarehouse);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].parking)) {
        var tableParkingSelect = document.getElementById("tableParking0");
        for (let i = 0; i < store.get('configList')[0].parking.length; i++) {
            var optionParking = document.createElement('option');
            optionParking.value = store.get('configList')[0].parking[i];
            optionParking.innerHTML = store.get('configList')[0].parking[i];
            tableParkingSelect.appendChild(optionParking);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].wcService)) {
        var tableWCSelect = document.getElementById("tableWC0");
        for (let i = 0; i < store.get('configList')[0].wcService.length; i++) {
            var optionWC = document.createElement('option');
            optionWC.value = store.get('configList')[0].wcService[i];
            optionWC.innerHTML = store.get('configList')[0].wcService[i];
            tableWCSelect.appendChild(optionWC);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].telephone)) {
        var tableTelephoneSelect = document.getElementById("tableTelephone0");
        for (let i = 0; i < store.get('configList')[0].telephone.length; i++) {
            var optionTelephone = document.createElement('option');
            optionTelephone.value = store.get('configList')[0].telephone[i];
            optionTelephone.innerHTML = store.get('configList')[0].telephone[i];
            tableTelephoneSelect.appendChild(optionTelephone);
        }
    }

    var regionCodeSelect = document.getElementById("regionCode");
    for (var i = 0; i < regionCodeList.length; i++) {
        var optionRegionCode = document.createElement('option');
        optionRegionCode.value = regionCodeList[i];
        optionRegionCode.innerHTML = regionCodeList[i];
        regionCodeSelect.appendChild(optionRegionCode);
    }

    onRegionCodeChange();

    // the selector will match all input controls of type :checkbox
    // and attach a click event handler
    $("input:checkbox").on('click', function () {
        // in the handler, 'this' refers to the box clicked on
        var $box = $(this);
        if ($box.is(":checked")) {
            // the name of the box is retrieved using the .attr() method
            // as it is assumed and expected to be immutable
            var group = "input:checkbox[name='" + $box.attr("name") + "']";
            // the checked state of the group/box on the other hand will change
            // and the current value is retrieved using .prop() method
            $(group).prop("checked", false);
            $box.prop("checked", true);
        } else {
            $box.prop("checked", false);
        }
    });

    $(document).ready(function () {
        $(".date-picker").persianDatepicker({
            initialValue: false,
            format: 'YYYY/MM/DD'
        });
    });

    ipcRenderer.on('showLoading', function () {
        var loading = document.getElementById("loading");
        loading.style.display = "block";

    });

    ipcRenderer.on('hideLoading', function () {
        var loading = document.getElementById("loading");
        loading.style.display = "none";
    });

    //add button click in table
    function onAddTableClick() {
        var index = document.querySelector('#tableRow').rows.length;
        var tr = document.createElement("TR");
        var tdFloor = document.createElement("TD");
        var inputFloor = document.createElement("INPUT");
        inputFloor.type = 'number';
        inputFloor.classList.add('validate');
        inputFloor.classList.add('tableTextInput');
        inputFloor.classList.add('font-text-light');
        inputFloor.classList.add('textInput');
        inputFloor.id = ('tableFloor' + index);
        tdFloor.appendChild(inputFloor);
        var tdZirBana = document.createElement("TD");
        var inputZirBana = document.createElement("INPUT");
        inputZirBana.classList.add('validate');
        inputZirBana.classList.add('tableTextInput');
        inputZirBana.classList.add('font-text-light');
        inputZirBana.classList.add('textInput');
        inputZirBana.id = ('tableZirBana' + index);
        tdZirBana.appendChild(inputZirBana);
        var tdKhab = document.createElement("TD");
        var inputKhab = document.createElement("INPUT");
        inputKhab.classList.add('validate');
        inputKhab.classList.add('tableTextInput');
        inputKhab.classList.add('font-text-light');
        inputKhab.classList.add('textInput');
        inputKhab.id = ('tableKhab' + index);
        tdKhab.appendChild(inputKhab);
        var tdBalcon = document.createElement("TD");
        var inputBalcon = document.createElement("INPUT");
        inputBalcon.type = 'checkbox';
        inputBalcon.id = ('tableBalcon' + index);
        tdBalcon.appendChild(inputBalcon);
        var tdTelephone = document.createElement("TD");
        var inputTelephone = document.createElement("SELECT");
        inputTelephone.classList.add('validate');
        inputTelephone.classList.add('tableTextInput');
        inputTelephone.classList.add('font-text-light');
        inputTelephone.classList.add('textInput');
        inputTelephone.id = ('tableTelephone' + index);
        tdTelephone.appendChild(inputTelephone);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].telephone)) {
            for (let i = 0; i < store.get('configList')[0].telephone.length; i++) {
                var optionTelephone = document.createElement('option');
                optionTelephone.value = store.get('configList')[0].telephone[i];
                optionTelephone.innerHTML = store.get('configList')[0].telephone[i];
                inputTelephone.appendChild(optionTelephone);
            }
        }
        var tdKitchen = document.createElement("TD");
        var inputKitchen = document.createElement("SELECT");
        inputKitchen.classList.add('validate');
        inputKitchen.classList.add('tableTextInput');
        inputKitchen.classList.add('font-text-light');
        inputKitchen.classList.add('textInput');
        inputKitchen.id = ('tableKitchen' + index);
        tdKitchen.appendChild(inputKitchen);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].kitchenService)) {
            for (let i = 0; i < store.get('configList')[0].kitchenService.length; i++) {
                var optionKitchen = document.createElement('option');
                optionKitchen.value = store.get('configList')[0].kitchenService[i];
                optionKitchen.innerHTML = store.get('configList')[0].kitchenService[i];
                inputKitchen.appendChild(optionKitchen);
            }
        }
        var tdOpen = document.createElement("TD");
        var inputOpen = document.createElement("INPUT");
        inputOpen.type = 'checkbox';
        tdOpen.appendChild(inputOpen);
        var tdWC = document.createElement("TD");
        var inputWC = document.createElement("SELECT");
        inputWC.classList.add('validate');
        inputWC.classList.add('tableTextInput');
        inputWC.classList.add('font-text-light');
        inputWC.classList.add('textInput');
        inputWC.id = ('tableWC' + index);
        tdWC.appendChild(inputWC);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].wcService)) {
            for (let i = 0; i < store.get('configList')[0].wcService.length; i++) {
                var optionWC = document.createElement('option');
                optionWC.value = store.get('configList')[0].wcService[i];
                optionWC.innerHTML = store.get('configList')[0].wcService[i];
                inputWC.appendChild(optionWC);
            }
        }
        var tdParking = document.createElement("TD");
        var inputParking = document.createElement("SELECT");
        inputParking.classList.add('validate');
        inputParking.classList.add('tableTextInput');
        inputParking.classList.add('font-text-light');
        inputParking.classList.add('textInput');
        inputParking.id = ('tableParking' + index);
        tdParking.appendChild(inputParking);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].parking)) {
            for (let i = 0; i < store.get('configList')[0].parking.length; i++) {
                var optionParking = document.createElement('option');
                optionParking.value = store.get('configList')[0].parking[i];
                optionParking.innerHTML = store.get('configList')[0].parking[i];
                inputParking.appendChild(optionParking);
            }
        }
        var tdAnbari = document.createElement("TD");
        var inputAnbari = document.createElement("SELECT");
        inputAnbari.classList.add('validate');
        inputAnbari.classList.add('tableTextInput');
        inputAnbari.classList.add('font-text-light');
        inputAnbari.classList.add('textInput');
        inputAnbari.id = ('tableAnbari' + index);
        tdAnbari.appendChild(inputAnbari);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].warehouse)) {
            for (let i = 0; i < store.get('configList')[0].warehouse.length; i++) {
                var optionWarehouse = document.createElement('option');
                optionWarehouse.value = store.get('configList')[0].warehouse[i];
                optionWarehouse.innerHTML = store.get('configList')[0].warehouse[i];
                inputAnbari.appendChild(optionWarehouse);
            }
        }
        var tdTotalAmount = document.createElement("TD");
        var inputTotalAmount = document.createElement("INPUT");
        inputTotalAmount.classList.add('validate');
        inputTotalAmount.classList.add('tableTextInput');
        inputTotalAmount.classList.add('font-text-light');
        inputTotalAmount.classList.add('textInput');
        inputTotalAmount.id = ('tableTotalAmount' + index);
        tdTotalAmount.appendChild(inputTotalAmount);
        var tdKafPoosh = document.createElement("TD");
        var inputKafPoosh = document.createElement("SELECT");
        inputKafPoosh.classList.add('validate');
        inputKafPoosh.classList.add('tableTextInput');
        inputKafPoosh.classList.add('font-text-light');
        inputKafPoosh.classList.add('textInput');
        inputKafPoosh.id = ('tableKafPoosh' + index);
        tdKafPoosh.appendChild(inputKafPoosh);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].floorCovering)) {
            for (let i = 0; i < store.get('configList')[0].floorCovering.length; i++) {
                var optionFloorCovering = document.createElement('option');
                optionFloorCovering.value = store.get('configList')[0].floorCovering[i];
                optionFloorCovering.innerHTML = store.get('configList')[0].floorCovering[i];
                inputKafPoosh.appendChild(optionFloorCovering);
            }
        }
        var tdMetri = document.createElement("TD");
        var inputMetri = document.createElement("INPUT");
        inputMetri.classList.add('validate');
        inputMetri.classList.add('tableTextInput');
        inputMetri.classList.add('font-text-light');
        inputMetri.classList.add('textInput');
        inputMetri.id = ('tableMetri' + index);
        tdMetri.appendChild(inputMetri);
        tr.appendChild(tdFloor);
        tr.appendChild(tdZirBana);
        tr.appendChild(tdKhab);
        tr.appendChild(tdBalcon);
        tr.appendChild(tdTelephone);
        tr.appendChild(tdKitchen);
        tr.appendChild(tdOpen);
        tr.appendChild(tdWC);
        tr.appendChild(tdKafPoosh);
        tr.appendChild(tdParking);
        tr.appendChild(tdAnbari);
        tr.appendChild(tdTotalAmount);
        tr.appendChild(tdMetri);
        document.querySelector('#tableRow').appendChild(tr);
        // $('#' + 'tableKafPoosh' + index).editableSelect();
        // $('#' + 'tableAnbari' + index).editableSelect();
        // $('#' + 'tableParking' + index).editableSelect();
        // $('#' + 'tableWC' + index).editableSelect();
        // $('#' + 'tableTelephone' + index).editableSelect();
        // $('#' + 'tableKitchen' + index).editableSelect();
    }

    //remove button click in table
    function onRemoveTableClick() {
        var index = document.querySelector('#tableRow').rows.length;
        (index !== 1) && document.querySelector('#tableRow').removeChild(document.querySelector('#tableRow').childNodes[index - 1]);
    }

    // Get the modal
    var facilityModal = document.getElementById("myModal");

    // Get the <span> element that closes the modal
    var facilityCloseModal = document.getElementsByClassName("close")[0];

    //facilities button click
    function onFacilityClick() {
        facilityModal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    facilityCloseModal.onclick = function () {
        facilityModal.style.display = "none";
    };

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == facilityModal) {
            facilityModal.style.display = "none";
        }
    };

    function saleTypeClickEvent(saleType) {
        if (saleType === 'فروش') {
            document.getElementById("rentPriceLabel").style.display = "none";
            document.getElementById("rentPrice").style.display = "none";
            document.getElementById("mortgagePriceLabel").style.display = "none";
            document.getElementById("mortgagePrice").style.display = "none";
            document.getElementById("unitComment").style.display = "none";

            document.getElementById("metriLabel").style.display = "block";
            document.getElementById("metri").style.display = "block";
            document.getElementById("totalPriceLabel").style.display = "block";
            document.getElementById("totalPrice").style.display = "block";
            document.getElementById("priceComment").style.display = "block";
        } else {
            document.getElementById("rentPriceLabel").style.display = "block";
            document.getElementById("rentPrice").style.display = "block";
            document.getElementById("mortgagePriceLabel").style.display = "block";
            document.getElementById("mortgagePrice").style.display = "block";
            document.getElementById("unitComment").style.display = "block";

            document.getElementById("metriLabel").style.display = "none";
            document.getElementById("metri").style.display = "none";
            document.getElementById("totalPriceLabel").style.display = "none";
            document.getElementById("totalPrice").style.display = "none";
            document.getElementById("priceComment").style.display = "none";
        }
    }

    $('#apartment').editableSelect();
    $('#vila').editableSelect();
    $('#mostaghelat').editableSelect();
    $('#kolangi').editableSelect();
    $('#office').editableSelect();
    $('#pool').editableSelect();
    $('#sona').editableSelect();
    $('#jakoozi').editableSelect();
    $('#view').editableSelect();
    $('#documentState').editableSelect();
    $('#InformationSource').editableSelect();
    // $('#tableTelephone0').editableSelect();
    // $('#tableKitchen0').editableSelect();
    // $('#tableWC0').editableSelect();
    // $('#tableParking0').editableSelect();
    // $('#tableAnbari0').editableSelect();
    // $('#tableKafPoosh0').editableSelect();
    $('#residenceOwner').editableSelect();
    $('#patio').editableSelect();
    $('#basement').editableSelect();
    $('#employeeService').editableSelect();
    $('#backYard').editableSelect();
    $('#yard').editableSelect();
    $('#corrective').editableSelect();

    var checkedEquipmentList = [];
    var btnSubmit = document.getElementById("btn-submit-modal");
    btnSubmit.addEventListener("click", function () {
        $("#equipmentResultList").empty();
        equipments = [];
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].equipments)) {
            var equipmentResultListDiv = document.getElementById("equipmentResultList");
            for (var i = 0; i < store.get('configList')[0].equipments.length; i++) {
                if (document.getElementById(store.get('configList')[0].equipments[i]).checked) {
                    checkedEquipmentList.push(store.get('configList')[0].equipments[i]);
                    var equipmentResultDiv = document.createElement('DIV');
                    equipmentResultDiv.className = 'equipmentResult';
                    equipmentResultDiv.innerHTML = store.get('configList')[0].equipments[i];
                    equipmentResultListDiv.appendChild(equipmentResultDiv);
                    equipments.push(store.get('configList')[0].equipments[i]);
                }
            }
        }
        facilityModal.style.display = "none";
    });

    // Get the btnSubmit
    var btnSubmit = document.getElementById("btn-submit");
    btnSubmit.addEventListener("click", function () {
        var table = document.querySelector('#tableRow');
        var requestArray = [];
        //for (var index in table.rows) {
        for (var index = 0; index < table.rows.length; index++) {
            var saleTypeList = document.getElementsByName('saleType[]');
            var saleType = "";
            for (var i = 0, n = saleTypeList.length; i < n; i++) {
                if (saleTypeList[i].checked) {
                    saleType = saleTypeList[i].value;
                }
            }
            var participationList = document.getElementsByName('participation[]');
            var participation = "";
            for (var j = 0, m = participationList.length; j < m; j++) {
                if (participationList[j].checked) {
                    participation = participationList[j].value;
                }
            }
            var requestBody = {
                Id: document.querySelector('#number').value,
                tel1: document.querySelector('#tel1').value,
                tel2: document.querySelector('#tel2').value,
                tel3: document.querySelector('#tel3').value,
                tel4: document.querySelector('#tel4').value,
                tel5: document.querySelector('#tel5').value,
                address: document.querySelector('#address').value,
                owner: document.querySelector('#owner').value,
                regionCode: StringUtils.convertNumbersToEnglish(document.querySelector('#regionCode').value),
                regionName: document.querySelector('#regionName').value,
                date: StringUtils.convertShamsiToMillisecond(document.querySelector('#date').value),
                sale: saleType,
                rent: document.querySelector('#rentPrice').value,
                mortgage: document.querySelector('#mortgagePrice').value,
                apartment: document.querySelector('#apartment').value,
                vila: document.querySelector('#vila').value,
                building: document.querySelector('#mostaghelat').value,
                home: document.querySelector('#home').checked,
                oldHouse: document.querySelector('#kolangi').value,
                office: document.querySelector('#office').value,
                store: document.querySelector('#store').checked,
                suite: document.querySelector('#suite').checked,
                north: document.querySelector('#north').checked,
                south: document.querySelector('#south').checked,
                east: document.querySelector('#east').checked,
                west: document.querySelector('#west').checked,
                floorNo: document.querySelector('#tabaghat').value,
                unitNo: document.querySelector('#vahed').value,
                unitComment: document.querySelector('#unitComment').value,
                totalPrice: document.querySelector('#totalPrice').value,
                priceComment: document.querySelector('#priceComment').value,
                pool: document.querySelector('#pool').checked,
                sona: document.querySelector('#sona').checked,
                jakozi: document.querySelector('#jakoozi').checked,
                area: document.querySelector('#area').value,
                density: document.querySelector('#density').value,
                front: document.querySelector('#toolBar').value,
                height: document.querySelector('#height').value,
                modify: document.querySelector('#corrective').value,
                yard: document.querySelector('#yard').value,
                smallYard: document.querySelector('#backYard').value,
                underGround: document.querySelector('#basement').value,
                employeeService: document.querySelector('#employeeService').value,
                patio: document.querySelector('#patio').value,
                residential: document.querySelector('#residential').checked,
                empty: document.querySelector('#discharge').value,
                rented: document.querySelector('#rented').value,
                age: document.querySelector('#ageBuilding').value,
                frontKind: document.querySelector('#view').value,
                source: document.querySelector('#InformationSource').value,
                publisher: document.querySelector('#ownerName').value,
                ownerInHouse: document.querySelector('#residenceOwner').value,
                documentKind: document.querySelector('#documentState').value,
                comment: document.querySelector('#additionalDescription').value,
                inHurry: document.querySelector('#isHurry').checked,
                equipments: equipments,
                participation: participation,
                username: document.querySelector('#ownerName').value,
                unitFloor: document.querySelector('#tableFloor' + index).value,
                unitBuiltUpArea: document.querySelector('#tableZirBana' + index).value,
                unitRoom: document.querySelector('#tableKhab' + index).value,
                unitBalcony: document.querySelector('#tableBalcon' + index).checked,
                unitTelephone: document.querySelector('#tableTelephone' + index).value,
                unitKitchen: document.querySelector('#tableKitchen' + index).value,
                unitWC: document.querySelector('#tableWC' + index).value,
                unitFloorCovering: document.querySelector('#tableKafPoosh' + index).value,
                unitOpen: document.querySelector('#tableOpen' + index).checked,
                unitPrice: _.isEmpty(document.querySelector('#tableKafPoosh' + index).value) ?
                    document.querySelector('#metri').value :
                    document.querySelector('#tableKafPoosh' + index).value,
            };
            requestArray.push(requestBody);
        }
        isDisabled ? ipcRenderer.send('editFile', {
                Id: document.querySelector('#number').value,
                isDeleted: false,
                isSold: false,
                isRented: false,
                isDontCall: false,
            }) :
            (isEdit ? ipcRenderer.send('editFile', requestArray[0]) : ipcRenderer.send('setFile', requestArray));
    });

    function onFileStateChange(id) {
        if (store.get('userData').deleteFile) {
            var requestBody = {
                Id: document.querySelector('#number').value
            };
            switch (id) {
                case 'delete':
                    requestBody.isDeleted = true;
                    ipcRenderer.send('editFile', requestBody);
                    break;
                case 'sold':
                    requestBody.isSold = true;
                    ipcRenderer.send('editFile', requestBody);
                    break;
                case 'rented':
                    requestBody.isRented = true;
                    ipcRenderer.send('editFile', requestBody);
                    break;
                case 'dontCall':
                    requestBody.isDontCall = true;
                    ipcRenderer.send('editFile', requestBody);
                    break;
            }
        } else {
            ipcRenderer.send('showError', 'دسترسی برای حذف فایل وجود ندارد.');
        }
    }

    function onFilePrintClick() {
        ipcRenderer.send('openPrintFile', editFile);
    }
</script>
</body>

</html>
