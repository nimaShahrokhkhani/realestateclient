<!DOCTYPE html>
<html>
<head>
    <script>
        var $ = jQuery = require("jquery")
    </script>
    <script src="libraries/jquery-1.12.4.js"></script>
    <script src="libraries/jquery-ui.js"></script>
    <script src="node_modules/persian-date/dist/persian-date.js" type="text/javascript"></script>
    <script src="node_modules/persian-datepicker/dist/js/persian-datepicker.js" type="text/javascript"></script>
    <script src="libraries/jquery-editable-select.min.js"></script>
    <link href="libraries/jquery-editable-select.min.css"
          rel="stylesheet">
    <link rel="stylesheet" href="node_modules/persian-datepicker/dist/css/persian-datepicker.css"/>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=1024, maximum-scale=1.0"/>
    <link rel="shortcut icon" type="image/png" href="https://animaproject.s3.amazonaws.com/home/favicon.png"/>
    <meta name="og:type" content="website"/>
    <meta name="twitter:card" content="photo"/>
    <link rel="stylesheet" type="text/css" href="css/add-file.css"/>
    <link rel="stylesheet" type="text/css" href="css/styleguide.css"/>
    <link rel="stylesheet" type="text/css" href="css/globals.css"/>
    <meta name="author" content="AnimaApp.com - Design to code, Automated."/>
    <style>
        body {
            display: flex;
            min-height: 100vh;
            flex-direction: column;
            background-color: #FFFFFF !important;
        }

        main {
            flex: 1 0 auto;
        }

        body {
            background: #fff;
            font-family: IRANSansMobileFaNum-Light;
        }

        .container {
            direction: rtl;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
            width: 100%;
        }

        .row {
            direction: rtl;
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            align-items: flex-start;
            width: 100%;
        }

        .input-field {
            direction: rtl;
        }

        .input-field input[type=date]:focus + label,
        .input-field input[type=text]:focus + label,
        .input-field input[type=password]:focus + label {
            color: #e91e63;
        }

        .input-field input[type=date]:focus,
        .input-field input[type=text]:focus,
        .input-field input[type=password]:focus {
            border-bottom: 2px solid #e91e63;
            box-shadow: none;
        }

        @font-face {
            font-family: IRANSans-Light;
            src: url("./fonts/IRANSans-Light.eot") format('eot'),
            url("./fonts/IRANSans-Light.woff") format('woff'),
            url("./fonts/IRANSans-Light.ttf") format('truetype');
        }

        @font-face {
            font-family: IRANSansMobile-Bold;
            src: url("./fonts/IRANSansMobile-Bold.eot") format('eot'),
            url("./fonts/IRANSansMobile-Bold.woff") format('woff'),
            url("./fonts/IRANSansMobile-Bold.ttf") format('truetype');
        }

        @font-face {
            font-family: IRANSansMobileFaNum-Light;
            src: url("./fonts/IRANSansMobileFaNum-Light.eot") format('eot'),
            url("./fonts/IRANSansMobileFaNum-Light.woff") format('woff'),
            url("./fonts/IRANSansMobileFaNum-Light.ttf") format('truetype');
        }

        .font-text-light {
            font-family: IRANSans-Light;
        }

        .font-text-bold {
            font-family: IRANSansMobile-Bold;
        }

        .placeholder {
            direction: rtl;
            text-align: right;
            float: right;
            margin-left: 2.5px;
            margin-right: 2.5px;
            color: rgb(45 47 146);
            font-size: 12px;
        }

        #loading {
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            position: fixed;
            display: none;
            opacity: 0.7;
            background-color: #fff;
            z-index: 99;
            text-align: center;
        }

        #loading-image {
            position: absolute;
            top: 150px;
            left: 300px;
            z-index: 100;
        }

        .menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: IRANSans-Light;
            font-size: 12px;
            cursor: pointer;
        }

        .menu-item span {
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-left: 5px;
            margin-right: 5px;
        }

        .top-container {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: center;
            flex: 1;
        }

        .top-container div {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .input-container {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            margin-top: 5px;
            margin-bottom: 5px;
            width: 100%;
        }

        .group-input-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            border-width: 0.5px;
            padding: 5px;
            width: inherit;
        }

        .textInput {
            margin-left: 2.5px;
            margin-right: 2.5px;
            width: -webkit-fill-available;
            background-image: linear-gradient(
                    89deg, #130de622, white) !important;
            border-width: 0.5px;
            border-radius: 5px;
            font-family: IRANSansMobileFaNum-Light;
        }

        .tableTextInput {
            margin-left: 2.5px;
            margin-right: 2.5px;
            width: 63px;
        }

        .styled-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.8em;
            min-width: 400px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
        }

        .styled-table thead tr {
            background-image: linear-gradient(181deg, rgb(45 47 146), #f1ebeb8c);
            color: #ffffff;
            text-align: left;
        }

        .styled-table th,
        .styled-table td {
            padding: 12px 15px;
            text-align: center;
            font-size: 12px;
        }

        .styled-table tbody tr {
            border-bottom: 1px solid #dddddd;
        }

        .styled-table tbody tr:nth-of-type(even) {
            background-color: #f3f3f3;
        }

        .styled-table tbody tr:last-of-type {
            border-bottom: 2px solid #009879;
        }

        .styled-table tbody tr.active-row {
            font-weight: bold;
            color: #009879;
        }

        /* The Modal (background) */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0, 0, 0); /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
            -webkit-animation-name: fadeIn; /* Fade in the background */
            -webkit-animation-duration: 0.4s;
            animation-name: fadeIn;
            animation-duration: 0.4s
        }

        /* Modal Content */
        .modal-content {
            position: fixed;
            bottom: 0;
            background-color: #fefefe;
            width: 100%;
            -webkit-animation-name: slideIn;
            -webkit-animation-duration: 0.4s;
            animation-name: slideIn;
            animation-duration: 0.4s
        }

        /* The Close Button */
        .close {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
            display: flex;
            justify-content: flex-end;
            flex: 1;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

        .modal-header {
            padding: 20px 16px;
            background-color: #5cb85c;
            color: white;
            direction: rtl;
            display: flex;
            flex-direction: row-reverse;
            align-items: center;
        }

        .modal-header h2 {
            flex: 1;
        }

        .modal-body {
            padding: 2px 16px;
            z-index: 1000;
        }

        .modal-footer {
            padding: 2px 16px;
            background-color: #5cb85c;
            color: white;
        }

        /* Add Animation */
        @-webkit-keyframes slideIn {
            from {
                bottom: -300px;
                opacity: 0
            }
            to {
                bottom: 0;
                opacity: 1
            }
        }

        @keyframes slideIn {
            from {
                bottom: -300px;
                opacity: 0
            }
            to {
                bottom: 0;
                opacity: 1
            }
        }

        @-webkit-keyframes fadeIn {
            from {
                opacity: 0
            }
            to {
                opacity: 1
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0
            }
            to {
                opacity: 1
            }
        }

        .btn-submit {
            margin-right: 10px;
            padding-left: 10px;
            padding-right: 10px;
            height: 30px;
            background-image: linear-gradient(rgb(45 47 146), white);
            border: 0;
            border-radius: 10px;
            margin-top: 10px;
            cursor: pointer;
            font-family: IRANSansMobile-Bold;
        }

        #apartment {
            font-family: IRANSans-Light;
        }

        #land {
            font-family: IRANSans-Light;
        }

        #vila {
            font-family: IRANSans-Light;
        }

        #mostaghelat {
            font-family: IRANSans-Light;
        }

        #kolangi {
            font-family: IRANSans-Light;
        }

        #office {
            font-family: IRANSans-Light;
        }

        #pool {
            font-family: IRANSans-Light;
        }

        #sona {
            font-family: IRANSans-Light;
        }

        #jakoozi {
            font-family: IRANSans-Light;
        }

        #view {
            font-family: IRANSans-Light;
        }

        #documentState {
            font-family: IRANSans-Light;
        }

        #InformationSource {
            font-family: IRANSans-Light;
        }

        div#equipmentList {
            display: flex;
            flex-wrap: wrap;
            width: 100vw;
            height: auto;
            overflow: auto;
        }

        .equipment {
            width: 25%;
            height: auto;
            flex: 0 1 25%;
            display: flex;
            justify-content: flex-end;
            margin-top: 10px;
            padding-right: 25px;
        }

        div#equipmentResultList {
            display: flex;
            flex-wrap: wrap;
            height: auto !important;
            direction: rtl;
        }

        .equipmentResult {
            width: 10%;
            height: auto;
            flex: 0 1 15%;
            display: flex;
            justify-content: center;
            margin-top: 10px;
            font-size: 13px;
        }

        #watermarkContainer {
            position: absolute;
            top: 40%;
            left: 0;
            right: 0;
            margin-right: auto;
            margin-left: auto;
            transform: rotate(-45deg);
            text-align: center;
            opacity: 0.5;
            z-index: 99;
            color: red;
        }

        #watermark {
            color: red;
            transform: rotate(320deg);
            font-size: 80px;
        }

        .contactName {
            position: absolute;
            top: -8px;
            font-size: 11px;
            color: #3a81cc;
        }

        .es-list {
            max-width: 100px !important;
        }

        .es-list::-webkit-scrollbar {
            display: none;
        }

        .es-list li {
            font-size: 12px !important;
            text-align: right !important;
        }
    </style>
</head>
<body style="margin: 0; background: #eff9f9; height: 100%; overflow: hidden">

<script src="libraries/jalali-moment.browser.js"></script>

<div id="loading">
    <img id="loading-image" src="images/loading.gif" alt="Loading..."/>
</div>
<div id="watermarkContainer">
    <span id="watermark"></span>
</div>

<input type="hidden" id="anPageName" name="page" value="add-file"/>
<div class="container-center-horizontal">
    <div class="add-file screen">
        <div class="flex-row">
            <div class="jahat border-1px-dove-gray">
                <div class="flex-col-1">
                    <input type="checkbox" class="rectangle-69 border-1px-denim" id="east" tabindex="11">
                    <input type="checkbox" class="rectangle-69-1 border-1px-denim" id="west" tabindex="13">
                </div>
                <div class="flex-col-2">
                    <div class="text iransans-light-black-13px">شرقی</div>
                    <div class="text-9 iransans-light-black-13px">غربی</div>
                </div>
                <div class="flex-col-3">
                    <input type="checkbox" class="rectangle-69-2 border-1px-denim" id="north" tabindex="10">
                    <input type="checkbox" class="rectangle-69-3 border-1px-denim" id="south" tabindex="12">
                </div>
                <div class="flex-col-4">
                    <div class="text-8 iransans-light-black-13px">شمالی</div>
                    <div class="text-1 iransans-light-black-13px">جنوبی</div>
                </div>
            </div>
            <div class="date border-1px-dove-gray">
                <div class="flex-row-1">
                    <input class="rectangle-9 border-1px-navy-blue date-picker" id='date' tabindex="6">
                    <div class="text-4 iransans-light-black-13px">: تاریخ</div>
                </div>
                <div class="flex-row-2">
                    <select class="rectangle-11 border-1px-navy-blue" id="regionName" tabindex="9">
                        <option></option>
                    </select>
                    <select class="rectangle-10 border-1px-navy-blue" id="regionCode" tabindex="8"
                            onchange="onRegionCodeChange()">
                        <option></option>
                    </select>
                    <div class="text-5 iransans-light-black-13px">: منطقه</div>
                </div>
            </div>
            <div class="overlap-group3">
                <div class="tel border-1px-dove-gray">
                    <div class="flex-col">
                        <div class="flex-row-3">
                            <div class="rectangle-4 border-1px-navy-blue"></div>
                            <div class="text-2-1 segoeui-regular-normal-black-13px">: مالک</div>
                            <div class="rectangle-3 border-1px-navy-blue"></div>
                            <div class="rectangle-3-1 border-1px-navy-blue"></div>
                            <div class="overlap-group4 border-1px-navy-blue">
                            </div>
                        </div>
                        <div class="rectangle-6 border-1px-navy-blue"></div>
                    </div>
                    <div class="flex-col-5">
                        <div class="text-1-1 segoeui-regular-normal-black-13px">: تلفن</div>
                        <div class="text-3 segoeui-regular-normal-black-13px">: آدرس</div>
                    </div>
                </div>
                <div class="tel-1 border-1px-dove-gray">
                    <div class="flex-col">
                        <div class="flex-row-4">
                            <input class="rectangle-4-1 border-1px-navy-blue" id='owner' tabindex="4">
                            <div class="text-11 iransans-light-black-13px">: مالک</div>
                            <input class="rectangle-3 border-1px-navy-blue" onfocusout="onTelephoneInputFocusOut('tel3')" id="tel3" tabindex="3">
                            <input class="rectangle-3-1 border-1px-navy-blue" onfocusout="onTelephoneInputFocusOut('tel2')" id="tel2" tabindex="2">
                            <input class="rectangle-3-1 border-1px-navy-blue" onfocusout="onTelephoneInputFocusOut('tel1')" id="tel1" tabindex="1">
                        </div>
                        <input class="rectangle-6-1 border-1px-navy-blue" id="address" tabindex="5">
                    </div>
                    <div class="flex-col-6">
                        <div class="text-10 iransans-light-black-13px">: تلفن</div>
                        <div class="text-1 iransans-light-black-13px">: آدرس</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="overlap-group1">
            <div class="kind">
                <div class="overlap-group4-1 border-1px-dove-gray">
                    <div class="rectangle-13"></div>
                    <div class="kind-1">
                        <div class="text-13 iransans-light-red-13px">خارجی</div>
                        <div class="text-14 iransans-light-red-13px">معاوضه</div>
                        <div class="text-15 iransans-light-red-13px">مشارکت</div>
                        <div class="text-16 iransans-light-red-13px">رهن</div>
                        <div class="text-17 iransans-light-red-13px">اجاره</div>
                        <div class="text-18 iransans-light-red-13px">فروش</div>
                    </div>
                    <div class="text-19 iransans-light-chocolate-13px">سوئیت</div>
                    <div class="text-20 iransans-light-chocolate-13px">مغازه</div>
                    <div class="text-21 iransans-light-chocolate-13px">دفترکار</div>
                    <div class="text-22 iransans-light-chocolate-13px">زمین</div>
                    <div class="text-23 iransans-light-chocolate-13px">کلنگی</div>
                    <div class="text-24 iransans-light-chocolate-13px">مستغلات</div>
                    <div class="text-25 iransans-light-chocolate-13px">ویلا</div>
                    <div class="text-26 iransans-light-chocolate-13px">آپارتمان</div>
                    <select class="rectangle-14 border-1px-navy-blue" id="office" tabindex="25">
                    </select>
                    <select class="rectangle-14-1 border-1px-navy-blue" id="kolangi" tabindex="23">
                    </select>
                    <select class="rectangle-14-2 border-1px-navy-blue" id="mostaghelat" tabindex="22">
                    </select>
                    <select class="rectangle-14-3 border-1px-navy-blue" id="vila" tabindex="21">
                    </select>
                    <select class="rectangle-14-4 border-1px-navy-blue" id="apartment" tabindex="20">
                    </select>
                    <select class="rectangle-15 border-1px-navy-blue" id="land" tabindex="24">
                    </select>
                    <input type="checkbox" class="ch-soeit border-1px-denim" id="suite" tabindex="27">
                    <input type="checkbox" class="ch-maghazeh border-1px-denim" id="store" tabindex="26">
                </div>
            </div>
            <div class="parking-anbari">
                <input type="checkbox" class="ch-khareji border-1px-denim" id="home" tabindex="19"  name="saleType[]" onclick="saleTypeClickEvent('خارجی')">
                <input type="checkbox" class="ch-moavezeh border-1px-denim" id="exchange" tabindex="18" name="saleType[]" onclick="saleTypeClickEvent('معاوضه')">
                <input type="checkbox" class="ch-mosharekat border-1px-denim" id="partnership" tabindex="17" name="saleType[]" onclick="saleTypeClickEvent('مشارکت')">
                <input type="checkbox" class="ch-rahn border-1px-denim" id="mortgage" tabindex="16" name="saleType[]" onclick="saleTypeClickEvent('رهن')">
                <input type="checkbox" class="parking-anbari-item border-1px-denim" id="rent" tabindex="15" name="saleType[]" onclick="saleTypeClickEvent('اجاره')">
                <input type="checkbox" class="parking-anbari-item border-1px-denim" id="sale" tabindex="14" name="saleType[]" onclick="saleTypeClickEvent('فروش')">
            </div>
        </div>
        <div class="overlap-group-1">
            <div class="price border-1px-dove-gray">
                <select class="rectangle-18 border-1px-navy-blue" id="unitComment" tabindex="33" style="display: none">
                </select>
                <select class="rectangle-18 border-1px-navy-blue" id="priceComment" tabindex="33">
                </select>
                <div class="text-27 iransans-light-black-13px">: توضیح قیمت</div>
                <input class="rectangle-18-1 border-1px-navy-blue" id='rentPrice' tabindex="32" style="display: none">
                <input class="rectangle-18-1 border-1px-navy-blue" id='metri' tabindex="32">
                <div class="text-28 iransans-light-black-13px" id='rentPriceLabel' style="display: none">: اجاره</div>
                <div class="text-28 iransans-light-black-13px" id='metriLabel'>: قیمت متری</div>
                <input class="rectangle-18-2 border-1px-navy-blue" id="mortgagePrice" tabindex="31"
                       style="display: none">
                <input class="rectangle-18-2 border-1px-navy-blue" id="totalPrice" tabindex="31">
                <div class="text-29 iransans-light-black-13px" id='mortgagePriceLabel' style="display: none">: ودیعه
                </div>
                <div class="text-29 iransans-light-black-13px" id='totalPriceLabel'>: قیمت کل</div>
                <input class="rectangle-18-3 border-1px-navy-blue" id="totalVahed" tabindex="30" onfocus="onTotalVahedFocus(this)">
                <input class="rectangle-19 border-1px-navy-blue" id="vahed" tabindex="29">
                <div class="text-30 iransans-light-black-13px">: واحد</div>
                <input class="rectangle-18-4 border-1px-navy-blue" id="tabaghat" tabindex="28">
                <div class="text-31 iransans-light-black-13px">: تعداد طبقات</div>
            </div>
            <img class="bar" src="img/bar@1x.png"/>
            <div class="x border-1px-dove-gray">
                <div class="mdi-minus-circle-outline">
                    <a onclick="onRemoveTableClick()" id="removeTableButton"><img class="path-minus-circle-outline"
                                                                                  src="img/path---minus-circle-outline@1x.png"/></a>
                </div>
                <a onclick="onAddTableClick()" id="addTableButton"><img class="path-plus-circle-outline"
                                                                        src="img/path---plus-circle-outline@1x.png"/></a>
            </div>
        </div>
        <div id="table" class="table">
            <div class="sub-bar2-1 border-1px-dove-gray">
                <input class="rectangle-30 border-1px-navy-blue" id='tableMetri0' tabindex="46">
                <input class="rectangle border-1px-navy-blue" id='tableTotalAmount0' tabindex="45">
                <select class="rectangle-17 border-1px-navy-blue" id="tableAnbari0" tabindex="44">
                </select>
                <select class="rectangle-17 border-1px-navy-blue" id="tableParking0" tabindex="43">
                </select>
                <select class="rectangle-28 border-1px-navy-blue" id="tableKafPoosh0" tabindex="42">
                </select>
                <select class="rectangle-27 border-1px-navy-blue" id="tableWC0" tabindex="41">
                </select>
                <input type="checkbox" class="ch-open border-1px-denim" id='tableOpen0' tabindex="40">
                <select class="rectangle-26 border-1px-navy-blue" id="tableKitchen0" tabindex="39">
                </select>
                <select class="rectangle-2 border-1px-navy-blue" id="tableTelephone0" tabindex="38">
                </select>
                <input type="checkbox" class="ch-open border-1px-denim" style="margin-right: 15px" id='tableBalcon0' tabindex="37">
                <input class="rectangle-2-1 border-1px-navy-blue" id='tableKhab0' tabindex="36">
                <input class="rectangle-2-1 border-1px-navy-blue" id='tableZirBana0' tabindex="35">
                <input class="rectangle-2 border-1px-navy-blue" id='tableFloor0' tabindex="34">
            </div>
            <div class="sub-bar2-1 border-1px-dove-gray">
                <span style="width: 100%; text-align: center">برای افزودن به لیست طبقات کلید <img
                        class="path-plus-circle-outline"
                        src="img/path---plus-circle-outline@1x.png"/> و برای حذف کلید <img
                        class="path-minus-circle-outline"
                        src="img/path---minus-circle-outline@1x.png"/> را کلیک کنید</span>
            </div>
        </div>

        <div class="flex-row-5">
            <div class="estakhr-sona">
                <div class="flex-col-7">
                    <select class="rectangle-34 border-1px-navy-blue" id="pool" tabindex="49">
                    </select>
                    <select class="rectangle-34-1 border-1px-navy-blue" id="sona" tabindex="50">
                    </select>
                    <select class="rectangle-34-2 border-1px-navy-blue" id="jakoozi" tabindex="51">
                    </select>
                </div>
                <div class="flex-col-8">
                    <div class="text iransans-light-chocolate-13px">: استخر</div>
                    <div class="text-34 iransans-light-chocolate-13px">: سونا</div>
                    <div class="text-35 iransans-light-chocolate-13px">: جکوزی</div>
                </div>
            </div>
            <div class="emkanat border-1px-dove-gray">
                <div style="flex: 1; height: 100%" id="equipmentResultList"></div>
                <button class="overlap-group5" tabindex="47" onclick="onFacilityClick()">
                    <div class="emkanat-bt border-1px-dove-gray"></div>
                    <div class="text-32"><a style="color:white;">امکانات</a>
                    </div>
                </button>
            </div>
        </div>
        <div class="flex-row-6">
            <div class="ejadeh-takhliyeh border-1px-dove-gray">
                <div class="flex-row-7">
                    <div class="text-48 iransans-light-red-devil-13px">تخلیه</div>
                    <div class="text-47 iransans-light-red-devil-13px">اجاره</div>
                    <div class="text-49 iransans-light-red-devil-13px">مسکونی</div>
                </div>
                <div class="group-18">
                    <input type="checkbox" class="ch-takhliyeh border-1px-denim" id="discharge" tabindex="65">
                    <input type="checkbox" class="ch-ejareh border-1px-denim" id="rented" tabindex="64">
                    <input type="checkbox" class="ch-maskoni border-1px-denim" id="residential" tabindex="63">
                </div>
            </div>
            <div class="mostakhdem border-1px-dove-gray">
                <div class="flex-col-9">
                    <div class="text-46 iransans-light-red-devil-13px">سکونت مالک</div>
                    <select class="rectangle-3-2 border-1px-navy-blue" id="residenceOwner" tabindex="62">
                    </select>
                </div>
                <div class="flex-col-10">
                    <div class="text-45 iransans-light-red-devil-13px">سرویس مستخدم</div>
                    <select class="rectangle-3-2 border-1px-navy-blue" id="employeeService" tabindex="61">
                    </select>
                </div>
            </div>
            <div class="moshaat border-1px-dove-gray">
                <div class="flex-col-11">
                    <div class="text-42 iransans-light-red-devil-13px">زیر زمین</div>
                    <select class="rectangle-36 border-1px-navy-blue" id="basement" tabindex="60">
                    </select>
                </div>
                <div class="flex-col-12">
                    <div class="text-41 iransans-light-red-devil-13px">پاسیو</div>
                    <select class="rectangle-36 border-1px-navy-blue" id="patio" tabindex="59">
                    </select>
                </div>
                <div class="flex-col-13">
                    <div class="text-43 iransans-light-red-devil-13px">حیاط خلوت</div>
                    <select class="rectangle-36-1 border-1px-navy-blue" id="backYard" tabindex="58">
                    </select>
                </div>
                <div class="flex-col-14">
                    <div class="text-44 iransans-light-red-devil-13px">حیاط</div>
                    <select class="rectangle-36-1 border-1px-navy-blue" id="yard" tabindex="57">
                    </select>
                </div>
            </div>
            <div class="masahat-zamin border-1px-dove-gray">
                <div class="overlap-group10">
                    <div class="text-37 iransans-light-red-devil-13px">ارتفاع</div>
                    <input class="rectangle-36-2 border-1px-navy-blue" id="height" tabindex="56">
                </div>
                <div class="overlap-group">
                    <div class="text-36 iransans-light-red-devil-13px">اصلاحی</div>
                    <select class="rectangle-36-2 border-1px-navy-blue" id="corrective" tabindex="55">
                    </select>
                </div>
                <div class="overlap-group8">
                    <div class="text-38 iransans-light-red-devil-13px">طول بر</div>
                    <input class="rectangle-36-2 border-1px-navy-blue" id="toolBar" tabindex="54">
                </div>
                <div class="overlap-group">
                    <div class="text-39 iransans-light-red-devil-13px">تراکم</div>
                    <input class="rectangle-36-2 border-1px-navy-blue" id="density" tabindex="53">
                </div>
                <div class="overlap-group6">
                    <div class="text-40 iransans-light-red-devil-13px">مساحت زمین</div>
                    <input class="rectangle-35 border-1px-navy-blue" id="area" tabindex="52">
                </div>
            </div>
        </div>
        <div class="tanzim-konandeh border-1px-dove-gray">
            <input class="rectangle-18-5 border-1px-navy-blue" id="ownerName" tabindex="71" disabled>
            <div class="text-50 iransans-light-black-13px">: تنظیم کننده</div>
            <input class="rectangle-38 border-1px-navy-blue" id="username" tabindex="70" disabled>
            <div class="text-54 iransans-light-black-13px">: ثبت کننده</div>
            <select class="rectangle-18-6 border-1px-navy-blue" id="InformationSource" tabindex="69">
            </select>
            <div class="text-51 iransans-light-black-13px">: منبع</div>
            <select class="rectangle-18-7 border-1px-navy-blue" id="documentState" tabindex="68">
            </select>
            <div class="text-53 iransans-light-black-13px">: سند</div>
            <select class="rectangle border-1px-navy-blue" id="view" tabindex="67">
            </select>
            <div class="text-52 iransans-light-black-13px">: نما</div>
            <input class="rectangle-18-8 border-1px-navy-blue" id="ageBuilding" tabindex="66">
            <div class="text-55 iransans-light-black-13px">: سن بنا</div>
        </div>
        <div class="overlap-group2">
            <div class="tozihat border-1px-dove-gray">
                <div class="flex-col-15">
                    <input type="checkbox" class="ch-hame border-1px-denim" id="allParticipation" tabindex="74" name="participation[]">
                    <input type="checkbox" class="ch-khososi border-1px-denim" id="privateParticipation" tabindex="76" name="participation[]">
                </div>
                <div class="flex-col-16">
                    <input type="checkbox" class="ch-malek-ajaleh-darad border-1px-denim" id="isHurry" tabindex="73">
                    <input type="checkbox" class="ch-taavon border-1px-denim" id="consultingCooperativeParticipation"
                           tabindex="75" name="participation[]">
                </div>
                <input class="txt-tozihat border-1px-navy-blue" id="additionalDescription" tabindex="72">
                <div class="text-56 iransans-light-black-13px">: توضیحات</div>
            </div>
            <div class="jahat-1">
                <div class="flex-col-17">
                    <div class="text-57 iransans-light-black-13px">همه</div>
                    <div class="text-2 iransans-light-black-13px">خصوصی</div>
                </div>
                <div class="flex-col-18">
                    <div class="text-58 iransans-light-black-13px">مالک عجله دارد</div>
                    <div class="text-2 iransans-light-black-13px">تعاون مشاور</div>
                </div>
            </div>
        </div>
        <div class="flex-row-8">
            <div class="shomareh border-1px-dove-gray">
                <input class="rectangle-41 border-1px-navy-blue" id="number" tabindex="77" disabled>
                <div class="text-61 iransans-light-black-13px">: شماره فایل</div>
            </div>
            <div class="button">
                <div class="overlap-group11 border-1px-dove-gray">
                    <div style="display: flex; flex: 1">
                    </div>

                    <div style="display: flex; flex: 1; justify-content: center">
                        <a><img
                                class="path-arrow-left-bold-box"
                                src="img/path---arrow-left-bold-box@1x.png"
                                onclick="onPrevPrintClick()"
                                id="btn-prev"
                                hidden
                        /></a>
                        <a><img class="path-arrow-right-bold-box" src="img/path---arrow-right-bold-box@1x.png"
                                id="btn-next" onclick="onNextPrintClick()" hidden/></a>
                    </div>
                    <div style="display: flex; flex: 1; justify-content: flex-end">
                        <a
                        ><img
                                class="path-printer"
                                src="img/path---printer@1x.png"
                                id="btn-print"
                                onclick="onFilePrintClick()"
                                hidden
                        /></a><a><div><img  title="F5 جدید" class="path-file-restore" src="img/path---file-restore@1x.png" id="btn-new"/></div></a>
                        <a><img class="path-file-excel" src="img/path---file-excel@1x.png" id="btn-delete"
                                onclick="onFileStateChange('delete')" hidden/></a>
                        <a><div title="F10 ثبت فایل"><img class="path-file-plus" src="img/path---file-plus@1x.png" id="btn-submit"/></div></a>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
        <div class="modal-header">
            <span class="close">&times;</span>
            <h2>امکانات</h2>
        </div>
        <div class="modal-body">
            <div id="equipmentList">
                <!--<div class="equipment">
                    <label>تست1</label>
                    <input type="checkbox" />
                </div>-->
            </div>
            <div style="display: flex; justify-content: center; margin-top: 20px; margin-bottom: 20px;">
                <button id="btn-submit-modal" class="btn-submit">ثبت</button>
            </div>
        </div>
    </div>

</div>
<script>
    const StringUtils = require('./utils/StringUtils');
    const electron = require('electron');
    const _ = require('underscore');
    const {ipcRenderer} = electron;
    const Store = require('electron-store');
    const store = new Store();
    var regionCodeList = [];
    var equipments = [];
    var isEdit = false;
    var isDisabled = false;
    var editFile = undefined;
    const {remote} = require('electron');
    const {Menu} = remote;

    document.querySelector('#sale').disabled = !saleTypePermission('فروش');
    document.querySelector('#rent').disabled = !saleTypePermission('اجاره');
    document.querySelector('#mortgage').disabled = !saleTypePermission('رهن');
    document.querySelector('#partnership').disabled = !saleTypePermission('مشارکت');
    document.querySelector('#exchange').disabled = !saleTypePermission('معاوضه');


    document.querySelector('#apartment').disabled = !noeMelkPermission('آپارتمان');
    document.querySelector('#land').disabled = !noeMelkPermission('زمین');
    document.querySelector('#vila').disabled = !noeMelkPermission('ویلا');
    document.querySelector('#mostaghelat').disabled = !noeMelkPermission('مستغلات');
    document.querySelector('#kolangi').disabled = !noeMelkPermission('کلنگی');
    document.querySelector('#office').disabled = !noeMelkPermission('دفترکار');
    document.querySelector('#store').disabled = !noeMelkPermission('مغازه');
    document.querySelector('#suite').disabled = !noeMelkPermission('سوییت');

    document.addEventListener('keydown', function (event) {
        switch (event.key) {
            case 'ArrowRight':
                onNextPrintClick();
                break;
            case 'ArrowLeft':
                onPrevPrintClick();
                break;
            case 116:
                remote.getCurrentWindow().reload();
                break;
            case 121:
                submitFile();
                break;
        }
    });

    document.querySelector('#date').addEventListener('dblclick', function (event) {
        $("#date").persianDatepicker({
            initialValue: true,
            format: 'YYYY/MM/DD'
        });
    });

    const markdownContextMenu = Menu.buildFromTemplate([
        {type: 'separator'},
        {label: 'Cut', role: 'cut'},
        {label: 'Copy', role: 'copy'},
        {label: 'Paste', role: 'paste'},
        {label: 'Select All', role: 'selectall'},
    ]);

    document.addEventListener('contextmenu', (event) => {
        event.preventDefault();
        markdownContextMenu.popup();
    });


    var metri = document.querySelector('#metri');
    metri.addEventListener("input", (event) => {
        metri.value = StringUtils.commify(event.target.value)
    });
    metri.addEventListener('keydown', function (event) {
        if (event.key === 'Shift') {
            if (!_.isEmpty(metri.value)) {
                metri.value = StringUtils.commify((parseInt(metri.value.replace(/,/g, '')) * 1000) + '')
            }
        }
    });

    var totalPrice = document.querySelector('#totalPrice');
    totalPrice.addEventListener("input", (event) => {
        totalPrice.value = StringUtils.commify(event.target.value)
    });
    totalPrice.addEventListener('keydown', function (event) {
        if (event.key === 'Shift') {
            if (!_.isEmpty(totalPrice.value)) {
                totalPrice.value = StringUtils.commify((parseInt(totalPrice.value.replace(/,/g, '')) * 1000) + '')
            }
        }
    });

    var rentPrice = document.querySelector('#rentPrice');
    rentPrice.addEventListener("input", (event) => {
        rentPrice.value = StringUtils.commify(event.target.value)
    });
    rentPrice.addEventListener('keydown', function (event) {
        if (event.key === 'Shift') {
            if (!_.isEmpty(rentPrice.value)) {
                rentPrice.value = StringUtils.commify((parseInt(rentPrice.value.replace(/,/g, '')) * 1000) + '')
            }
        }
    });

    var mortgagePrice = document.querySelector('#mortgagePrice');
    mortgagePrice.addEventListener("input", (event) => {
        mortgagePrice.value = StringUtils.commify(event.target.value)
    });
    mortgagePrice.addEventListener('keydown', function (event) {
        if (event.key === 'Shift') {
            if (!_.isEmpty(mortgagePrice.value)) {
                mortgagePrice.value = StringUtils.commify((parseInt(mortgagePrice.value.replace(/,/g, '')) * 1000) + '')
            }
        }
    });

    var tableTotalAmount0 = document.querySelector('#tableTotalAmount0');
    tableTotalAmount0.addEventListener("input", (event) => {
        tableTotalAmount0.value = StringUtils.commify(event.target.value)
    });
    tableTotalAmount0.addEventListener('keydown', function (event) {
        if (event.key === 'Shift') {
            if (!_.isEmpty(tableTotalAmount0.value)) {
                tableTotalAmount0.value = StringUtils.commify((parseInt(tableTotalAmount0.value.replace(/,/g, '')) * 1000) + '')
            }
        }
    });

    var tableMetri0 = document.querySelector('#tableMetri0');
    tableMetri0.addEventListener("input", (event) => {
        tableMetri0.value = StringUtils.commify(event.target.value)
    });
    tableMetri0.addEventListener('keydown', function (event) {
        if (event.key === 'Shift') {
            if (!_.isEmpty(tableMetri0.value)) {
                tableMetri0.value = StringUtils.commify((parseInt(tableMetri0.value.replace(/,/g, '')) * 1000) + '')
            }
        }
    });

    function onTotalVahedFocus(totalVahed) {
        let tabaghat = document.getElementById('tabaghat').value;
        let vahed = document.getElementById('vahed').value;
        if (tabaghat && vahed) {
            totalVahed.value = 'در کل ' + (StringUtils.convertNumbersToEnglish(tabaghat) * StringUtils.convertNumbersToEnglish(vahed)) + ' واحد';
        }
    }


    document.getElementById('username').value = store.get('userData').username;

    if (!_.isEmpty(store.get('publisher'))) {
        document.getElementById('ownerName').value = store.get('publisher');
    }

    function onPrevPrintClick() {
        if (isEdit) {
            ipcRenderer.send('getPrevFile', editFile);
        }
    }

    function onNextPrintClick() {
        if (isEdit) {
            ipcRenderer.send('getNextFile', editFile);
        }
    }

    function fillEquipmentList(equipments) {
        for (var i = 0; i < equipments.length; i++) {
            document.getElementById(equipments[i]).checked = true;
        }
    }

    ipcRenderer.send('getEditFile');

    ipcRenderer.on('sendFileFromMain', function (event, file) {
        if (!_.isEmpty(file)) {
            editFile = file;
            isEdit = true;

            var equipmentResultListDiv = document.getElementById("equipmentResultList");
            for (var i = 0; i < file.equipments.length; i++) {
                checkedEquipmentList.push(file.equipments[i]);
                var equipmentResultDiv = document.createElement('DIV');
                equipmentResultDiv.className = 'equipmentResult';
                equipmentResultDiv.innerHTML = file.equipments[i];
                equipmentResultListDiv.appendChild(equipmentResultDiv);
                equipments.push(file.equipments[i]);
            }
            fillEquipmentList(equipments);

            document.querySelector('#username').value = file.username;
            document.querySelector('#number').value = file.Id;
            document.querySelector('#tel1').value = file.tel1;
            document.querySelector('#tel2').value = file.tel2;
            document.querySelector('#tel3').value = file.tel3;
            // document.querySelector('#tel4').value = file.tel4;
            // document.querySelector('#tel5').value = file.tel5;
            document.querySelector('#address').value = file.address;
            document.querySelector('#owner').value = file.owner;
            document.querySelector('#regionCode').value = file.regionCode;
            onRegionCodeChange();
            document.querySelector('#regionName').value = file.regionName;
            document.querySelector('#date').value = StringUtils.convertMillisecondToShamsi(file.date);
            document.querySelector('#rentPrice').value = file.rent ? StringUtils.commify(file.rent) : '';
            document.querySelector('#sale').checked = file.sale === 'فروش';
            document.querySelector('#rent').checked = file.sale === 'اجاره';
            document.querySelector('#mortgage').checked = file.sale === 'رهن';
            document.querySelector('#partnership').checked = file.sale === 'مشارکت';
            document.querySelector('#exchange').checked = file.sale === 'معاوضه';
            document.querySelector('#mortgagePrice').value = file.mortgage ? StringUtils.commify(file.mortgage) : '';
            document.querySelector('#apartment').value = file.apartment;
            document.querySelector('#land').value = !_.isEmpty(file.land) ? file.land : '';
            document.querySelector('#vila').value = !_.isEmpty(file.vila) ? file.vila : '';
            document.querySelector('#mostaghelat').value = !_.isEmpty(file.building) ? file.building : '';
            document.querySelector('#home').checked = file.home;
            document.querySelector('#kolangi').value = !_.isEmpty(file.oldHouse) ? file.oldHouse : '';
            document.querySelector('#office').value = !_.isEmpty(file.office) ? file.office : '';
            document.querySelector('#store').checked = file.store;
            document.querySelector('#suite').checked = file.suite;
            document.querySelector('#north').checked = file.north;
            document.querySelector('#south').checked = file.south;
            document.querySelector('#east').checked = file.east;
            document.querySelector('#west').checked = file.west;
            document.querySelector('#tabaghat').value = file.floorNo;
            document.querySelector('#vahed').value = file.unitNo;
            document.querySelector('#totalVahed').value = file.totalUnit;
            document.querySelector('#unitComment').value = file.unitComment;
            document.querySelector('#totalPrice').value = file.totalPrice ? StringUtils.commify(file.totalPrice.toString()) : '';
            document.querySelector('#metri').value = file.unitPrice ? StringUtils.commify(file.unitPrice.toString()) : '';
            document.querySelector('#priceComment').value = file.priceComment;
            document.querySelector('#pool').value = file.pool;
            document.querySelector('#sona').value = file.sona;
            document.querySelector('#jakoozi').value = file.jakozi;
            document.querySelector('#area').value = file.area;
            document.querySelector('#density').value = file.density;
            document.querySelector('#toolBar').value = file.front;
            document.querySelector('#height').value = file.height;
            document.querySelector('#corrective').value = file.modify;
            document.querySelector('#yard').value = file.yard;
            document.querySelector('#backYard').value = file.smallYard;
            document.querySelector('#basement').value = file.underGround;
            document.querySelector('#employeeService').value = file.employeeService;
            document.querySelector('#patio').value = file.patio;
            document.querySelector('#residential').checked = file.residential;
            document.querySelector('#discharge').value = file.empty;
            document.querySelector('#rented').value = file.rented;
            document.querySelector('#ageBuilding').value = file.age;
            document.querySelector('#view').value = file.frontKind;
            document.querySelector('#InformationSource').value = file.source;
            document.querySelector('#ownerName').value = file.publisher;
            document.querySelector('#residenceOwner').value = file.ownerInHouse;
            document.querySelector('#documentState').value = file.documentKind;
            document.querySelector('#additionalDescription').value = file.comment;
            document.querySelector('#isHurry').checked = file.inHurry;
            //equipments: equipments,
            //participation: participation,
            document.querySelector('#ownerName').value = file.username;
            document.querySelector('#tableFloor0').value = file.unitFloor;
            document.querySelector('#tableZirBana0').value = file.unitBuiltUpArea;
            document.querySelector('#tableKhab0').value = file.unitRoom;
            document.querySelector('#tableBalcon0').checked = file.unitBalcony;
            document.querySelector('#tableTelephone0').value = file.unitTelephone;
            document.querySelector('#tableKitchen0').value = file.unitKitchen;
            document.querySelector('#tableWC0').value = file.unitWC;
            document.querySelector('#tableKafPoosh0').value = file.unitFloorCovering;
            document.querySelector('#tableParking0').value = file.unitParking;
            document.querySelector('#tableAnbari0').value = file.unitAnbari;
            document.querySelector('#tableOpen0').checked = file.unitOpen;
            document.querySelector('#tableMetri0').value = file.unitMetri ? StringUtils.commify(file.unitMetri.toString()) : '';
            document.querySelector('#tableTotalAmount0').value = file.unitTotalAmount ? StringUtils.commify(file.unitTotalAmount.toString()) : '';

            document.querySelector('#allParticipation').checked = file.participation === 'همه';
            document.querySelector('#privateParticipation').checked = file.participation === 'خصوصی';
            document.querySelector('#consultingCooperativeParticipation').checked = file.participation === 'تعاون مشاور';

            if (file.isDeleted || file.isSold || file.isRented || file.isDontCall) {
                isDisabled = true;
                let btnNew = document.getElementById("btn-new");
                let btnSubmit = document.getElementById("btn-submit");
                btnNew.hidden = true;
                btnSubmit.hidden = true;

                var watermark = document.getElementById("watermark");

                if (file.isDeleted) {
                    watermark.innerText = 'فایل حذف شده است';
                } else if (file.isSold) {
                    watermark.innerText = 'فایل فروخته شده است';
                } else if (file.isRented) {
                    watermark.innerText = 'فایل اجاره داده شده است';
                } else if (file.isDontCall) {
                    watermark.innerText = 'لطفا تماس نگیرید';
                }
            } else {
                var btnDelete = document.getElementById("btn-delete");
                btnDelete.hidden = false;
                var btnPrint = document.getElementById("btn-print");
                btnPrint.hidden = false;
                var btnNext = document.getElementById("btn-next");
                btnNext.hidden = false;
                var btnPrev = document.getElementById("btn-prev");
                btnPrev.hidden = false;
                let btnNew = document.getElementById("btn-new");
                let btnSubmit = document.getElementById("btn-submit");
                btnNew.hidden = true;
                btnSubmit.src = 'img/path---file-edit@1x.png';
            }

            var addTableButton = document.getElementById("addTableButton");
            addTableButton.disabled = true;

        }
    });

    //ipcRenderer.send('getFileTotalCount');

    ipcRenderer.on('getFilesTotalCountFromMain', function (event, fileTotalCount) {
        if (!isEdit) {
            var number = document.getElementById('number');
            number.readOnly = true;
            number.value = 'fl-' + 10000 + fileTotalCount;
        }
    });

    function searchTelInContactList(id, telNumber) {
        var contactList = store.get('contactList');
        if (!_.isEmpty(contactList)) {
            var contact = contactList.filter(contact => contact.tel === telNumber);
            if (!_.isEmpty(contact)) {
                document.getElementById('contact' + id.split('tel')[1]).style.display = 'block';
                document.getElementById('contact' + id.split('tel')[1]).innerText = contact[0].name;
            } else {
                document.getElementById('contact' + id.split('tel')[1]).style.display = 'none';
                document.getElementById('contact' + id.split('tel')[1]).innerText = '';
            }
        }
    }

    function onTelephoneInputFocusOut(id) {
        searchTelInContactList(id, document.getElementById(id).value);
        var telephoneInput1 = document.getElementById('tel1');
        var telephoneInput2 = document.getElementById('tel2');
        var telephoneInput3 = document.getElementById('tel3');
        // var telephoneInput4 = document.getElementById('tel4');
        // var telephoneInput5 = document.getElementById('tel5');
        var blackList = (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].blackList)) ? store.get('configList')[0].blackList : [];
        var btnSubmit = document.getElementById("btn-submit");

        if (_.contains(blackList, telephoneInput1.value) || _.contains(blackList, telephoneInput2.value) ||
            _.contains(blackList, telephoneInput3.value)) {
            btnSubmit.disabled = true;
            ipcRenderer.send('showError', 'شماره ی وارد شده مسدود می باشد.');
        } else {
            btnSubmit.disabled = false;
        }
        searchFileOnTelephoneNumber(id, document.getElementById(id).value);
    }

    function searchFileOnTelephoneNumber(id, phoneNumber) {
        var request = {};
        if (!_.isEmpty(phoneNumber)) {
            request[id] = phoneNumber;
            ipcRenderer.send('searchFileOnTelephoneNumber', request);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].region)) {
        for (var i = 0; i < store.get('configList')[0].region.length; i++) {
            if (!_.contains(regionCodeList, store.get('configList')[0].region[i].regionCode)) {
                regionCodeList.push(store.get('configList')[0].region[i].regionCode)
            }
        }
    }

    function getRegionNameListFromRegionCode(regionCode) {
        var regionNameList = [];
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].region)) {
            for (var i = 0; i < store.get('configList')[0].region.length; i++) {
                if (regionCode === store.get('configList')[0].region[i].regionCode) {
                    regionNameList.push(store.get('configList')[0].region[i].regionName)
                }
            }
        }
        return regionNameList;
    }

    function onRegionCodeChange() {
        var regionCode = document.getElementById("regionCode").value;
        var regionNameSelect = document.getElementById("regionName");
        var regionNameList = getRegionNameListFromRegionCode(regionCode);
        $("#regionName").empty();
        for (var i = 0; i < regionNameList.length; i++) {
            var optionRegionName = document.createElement('option');
            optionRegionName.value = regionNameList[i];
            optionRegionName.innerHTML = regionNameList[i];
            regionNameSelect.appendChild(optionRegionName);
        }
    }

    //fill options with configs
    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].equipments)) {
        var equipmentListDiv = document.getElementById("equipmentList");
        for (var i = 0; i < store.get('configList')[0].equipments.length; i++) {
            var equipmentDiv = document.createElement('DIV');
            equipmentDiv.className = 'equipment';
            var equipmentLabel = document.createElement('LABEL');
            equipmentLabel.innerHTML = store.get('configList')[0].equipments[i];
            var equipmentCheckBox = document.createElement('INPUT');
            equipmentCheckBox.type = 'checkbox';
            equipmentCheckBox.id = store.get('configList')[0].equipments[i];
            equipmentDiv.appendChild(equipmentLabel);
            equipmentDiv.appendChild(equipmentCheckBox);
            equipmentListDiv.appendChild(equipmentDiv);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].source)) {
        var informationSourceSelect = document.getElementById("InformationSource");
        for (var i = 0; i < store.get('configList')[0].source.length; i++) {
            var optionInformationSource = document.createElement('option');
            optionInformationSource.value = store.get('configList')[0].source[i];
            optionInformationSource.innerHTML = store.get('configList')[0].source[i];
            informationSourceSelect.appendChild(optionInformationSource);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].documentKind)) {
        var documentStateSelect = document.getElementById("documentState");
        for (var i = 0; i < store.get('configList')[0].documentKind.length; i++) {
            var optionDocumentStateSource = document.createElement('option');
            optionDocumentStateSource.value = store.get('configList')[0].documentKind[i];
            optionDocumentStateSource.innerHTML = store.get('configList')[0].documentKind[i];
            documentStateSelect.appendChild(optionDocumentStateSource);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].frontKind)) {
        var viewSelect = document.getElementById("view");
        for (var i = 0; i < store.get('configList')[0].frontKind.length; i++) {
            var optionView = document.createElement('option');
            optionView.value = store.get('configList')[0].frontKind[i];
            optionView.innerHTML = store.get('configList')[0].frontKind[i];
            viewSelect.appendChild(optionView);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].jakozi)) {
        var jakooziSelect = document.getElementById("jakoozi");
        for (var i = 0; i < store.get('configList')[0].jakozi.length; i++) {
            var optionJakoozi = document.createElement('option');
            optionJakoozi.value = store.get('configList')[0].jakozi[i];
            optionJakoozi.innerHTML = store.get('configList')[0].jakozi[i];
            jakooziSelect.appendChild(optionJakoozi);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].sona)) {
        var sonaSelect = document.getElementById("sona");
        for (var i = 0; i < store.get('configList')[0].sona.length; i++) {
            var optionSona = document.createElement('option');
            optionSona.value = store.get('configList')[0].sona[i];
            optionSona.innerHTML = store.get('configList')[0].sona[i];
            sonaSelect.appendChild(optionSona);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].pool)) {
        var poolSelect = document.getElementById("pool");
        for (var i = 0; i < store.get('configList')[0].pool.length; i++) {
            var optionPool = document.createElement('option');
            optionPool.value = store.get('configList')[0].pool[i];
            optionPool.innerHTML = store.get('configList')[0].pool[i];
            poolSelect.appendChild(optionPool);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].office)) {
        var officeSelect = document.getElementById("office");
        for (var i = 0; i < store.get('configList')[0].office.length; i++) {
            var optionOffice = document.createElement('option');
            optionOffice.value = store.get('configList')[0].office[i];
            optionOffice.innerHTML = store.get('configList')[0].office[i];
            officeSelect.appendChild(optionOffice);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].oldHouse)) {
        var kolangiSelect = document.getElementById("kolangi");
        for (var i = 0; i < store.get('configList')[0].oldHouse.length; i++) {
            var optionKolangi = document.createElement('option');
            optionKolangi.value = store.get('configList')[0].oldHouse[i];
            optionKolangi.innerHTML = store.get('configList')[0].oldHouse[i];
            kolangiSelect.appendChild(optionKolangi);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].building)) {
        var mostaghelatSelect = document.getElementById("mostaghelat");
        for (var i = 0; i < store.get('configList')[0].building.length; i++) {
            var optionMostaghelat = document.createElement('option');
            optionMostaghelat.value = store.get('configList')[0].building[i];
            optionMostaghelat.innerHTML = store.get('configList')[0].building[i];
            mostaghelatSelect.appendChild(optionMostaghelat);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].vila)) {
        var vilaSelect = document.getElementById("vila");
        for (var i = 0; i < store.get('configList')[0].vila.length; i++) {
            var optionvila = document.createElement('option');
            optionvila.value = store.get('configList')[0].vila[i];
            optionvila.innerHTML = store.get('configList')[0].vila[i];
            vilaSelect.appendChild(optionvila);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].apartment)) {
        var apartmentSelect = document.getElementById("apartment");
        for (var i = 0; i < store.get('configList')[0].apartment.length; i++) {
            var optionApartment = document.createElement('option');
            optionApartment.value = store.get('configList')[0].apartment[i];
            optionApartment.innerHTML = store.get('configList')[0].apartment[i];
            apartmentSelect.appendChild(optionApartment);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].land)) {
        var landSelect = document.getElementById("land");
        for (var i = 0; i < store.get('configList')[0].land.length; i++) {
            var optionLand = document.createElement('option');
            optionLand.value = store.get('configList')[0].land[i];
            optionLand.innerHTML = store.get('configList')[0].land[i];
            landSelect.appendChild(optionLand);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].comment)) {
        var priceCommentSelect = document.getElementById("priceComment");
        for (var i = 0; i < store.get('configList')[0].comment.length; i++) {
            var optionPriceComment = document.createElement('option');
            optionPriceComment.value = store.get('configList')[0].comment[i];
            optionPriceComment.innerHTML = store.get('configList')[0].comment[i];
            priceCommentSelect.appendChild(optionPriceComment);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].comment)) {
        var unitCommentSelect = document.getElementById("unitComment");
        for (var i = 0; i < store.get('configList')[0].comment.length; i++) {
            var optionUnitComment = document.createElement('option');
            optionUnitComment.value = store.get('configList')[0].comment[i];
            optionUnitComment.innerHTML = store.get('configList')[0].comment[i];
            unitCommentSelect.appendChild(optionUnitComment);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].modify)) {
        var modifySelect = document.getElementById("corrective");
        for (var i = 0; i < store.get('configList')[0].modify.length; i++) {
            var optionModify = document.createElement('option');
            optionModify.value = store.get('configList')[0].modify[i];
            optionModify.innerHTML = store.get('configList')[0].modify[i];
            modifySelect.appendChild(optionModify);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].yard)) {
        var yardSelect = document.getElementById("yard");
        for (var i = 0; i < store.get('configList')[0].yard.length; i++) {
            var optionYard = document.createElement('option');
            optionYard.value = store.get('configList')[0].yard[i];
            optionYard.innerHTML = store.get('configList')[0].yard[i];
            yardSelect.appendChild(optionYard);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].backYard)) {
        var backYardSelect = document.getElementById("backYard");
        for (var i = 0; i < store.get('configList')[0].backYard.length; i++) {
            var optionBackYard = document.createElement('option');
            optionBackYard.value = store.get('configList')[0].backYard[i];
            optionBackYard.innerHTML = store.get('configList')[0].backYard[i];
            backYardSelect.appendChild(optionBackYard);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].employeeService)) {
        var employeeServiceSelect = document.getElementById("employeeService");
        for (var i = 0; i < store.get('configList')[0].employeeService.length; i++) {
            var optionEmployeeService = document.createElement('option');
            optionEmployeeService.value = store.get('configList')[0].employeeService[i];
            optionEmployeeService.innerHTML = store.get('configList')[0].employeeService[i];
            employeeServiceSelect.appendChild(optionEmployeeService);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].basement)) {
        var basementSelect = document.getElementById("basement");
        for (var i = 0; i < store.get('configList')[0].basement.length; i++) {
            var optionBasement = document.createElement('option');
            optionBasement.value = store.get('configList')[0].basement[i];
            optionBasement.innerHTML = store.get('configList')[0].basement[i];
            basementSelect.appendChild(optionBasement);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].patio)) {
        var patioSelect = document.getElementById("patio");
        for (var i = 0; i < store.get('configList')[0].patio.length; i++) {
            var optionPatio = document.createElement('option');
            optionPatio.value = store.get('configList')[0].patio[i];
            optionPatio.innerHTML = store.get('configList')[0].patio[i];
            patioSelect.appendChild(optionPatio);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].residenceOwner)) {
        var residenceOwnerSelect = document.getElementById("residenceOwner");
        for (var i = 0; i < store.get('configList')[0].residenceOwner.length; i++) {
            var optionResidenceOwner = document.createElement('option');
            optionResidenceOwner.value = store.get('configList')[0].residenceOwner[i];
            optionResidenceOwner.innerHTML = store.get('configList')[0].residenceOwner[i];
            residenceOwnerSelect.appendChild(optionResidenceOwner);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].kitchenService)) {
        var tableKitchenSelect = document.getElementById("tableKitchen0");
        for (let i = 0; i < store.get('configList')[0].kitchenService.length; i++) {
            var optionKitchen = document.createElement('option');
            optionKitchen.value = store.get('configList')[0].kitchenService[i];
            optionKitchen.innerHTML = store.get('configList')[0].kitchenService[i];
            tableKitchenSelect.appendChild(optionKitchen);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].floorCovering)) {
        var tableKafPooshSelect = document.getElementById("tableKafPoosh0");
        for (let i = 0; i < store.get('configList')[0].floorCovering.length; i++) {
            var optionFloorCovering = document.createElement('option');
            optionFloorCovering.value = store.get('configList')[0].floorCovering[i];
            optionFloorCovering.innerHTML = store.get('configList')[0].floorCovering[i];
            tableKafPooshSelect.appendChild(optionFloorCovering);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].warehouse)) {
        var tableAnbariSelect = document.getElementById("tableAnbari0");
        for (let i = 0; i < store.get('configList')[0].warehouse.length; i++) {
            var optionWarehouse = document.createElement('option');
            optionWarehouse.value = store.get('configList')[0].warehouse[i];
            optionWarehouse.innerHTML = store.get('configList')[0].warehouse[i];
            tableAnbariSelect.appendChild(optionWarehouse);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].parking)) {
        var tableParkingSelect = document.getElementById("tableParking0");
        for (let i = 0; i < store.get('configList')[0].parking.length; i++) {
            var optionParking = document.createElement('option');
            optionParking.value = store.get('configList')[0].parking[i];
            optionParking.innerHTML = store.get('configList')[0].parking[i];
            tableParkingSelect.appendChild(optionParking);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].wcService)) {
        var tableWCSelect = document.getElementById("tableWC0");
        for (let i = 0; i < store.get('configList')[0].wcService.length; i++) {
            var optionWC = document.createElement('option');
            optionWC.value = store.get('configList')[0].wcService[i];
            optionWC.innerHTML = store.get('configList')[0].wcService[i];
            tableWCSelect.appendChild(optionWC);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].telephone)) {
        var tableTelephoneSelect = document.getElementById("tableTelephone0");
        for (let i = 0; i < store.get('configList')[0].telephone.length; i++) {
            var optionTelephone = document.createElement('option');
            optionTelephone.value = store.get('configList')[0].telephone[i];
            optionTelephone.innerHTML = store.get('configList')[0].telephone[i];
            tableTelephoneSelect.appendChild(optionTelephone);
        }
    }

    if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].floor)) {
        var tableFloorSelect = document.getElementById("tableFloor0");
        for (let i = 0; i < store.get('configList')[0].floor.length; i++) {
            var optionFloor = document.createElement('option');
            optionFloor.value = store.get('configList')[0].floor[i];
            optionFloor.innerHTML = store.get('configList')[0].floor[i];
            tableFloorSelect.appendChild(optionFloor);
        }
    }

    var regionCodeSelect = document.getElementById("regionCode");
    for (var i = 0; i < regionCodeList.length; i++) {
        var optionRegionCode = document.createElement('option');
        optionRegionCode.value = regionCodeList[i];
        optionRegionCode.innerHTML = regionCodeList[i];
        regionCodeSelect.appendChild(optionRegionCode);
    }

    onRegionCodeChange();

    // the selector will match all input controls of type :checkbox
    // and attach a click event handler
    $("input:checkbox").on('click', function () {
        // in the handler, 'this' refers to the box clicked on
        var $box = $(this);
        if ($box.is(":checked")) {
            // the name of the box is retrieved using the .attr() method
            // as it is assumed and expected to be immutable
            var group = "input:checkbox[name='" + $box.attr("name") + "']";
            // the checked state of the group/box on the other hand will change
            // and the current value is retrieved using .prop() method
            $(group).prop("checked", false);
            $box.prop("checked", true);
        } else {
            $box.prop("checked", false);
        }
    });

    $(document).ready(function () {
        $(".date-picker").persianDatepicker({
            initialValue: !isEdit,
            format: 'YYYY/MM/DD'
        });
    });

    ipcRenderer.on('showLoading', function () {
        var loading = document.getElementById("loading");
        loading.style.display = "block";

    });

    ipcRenderer.on('hideLoading', function () {
        var loading = document.getElementById("loading");
        loading.style.display = "none";
    });

    //add button click in table
    function onAddTableClick() {
        var index = document.querySelector('#table').childElementCount - 1;
        var rowContainer = document.createElement("DIV");
        rowContainer.style.display = 'flex';
        rowContainer.style.flexDirection = 'row-reverse';
        rowContainer.classList.add('sub-bar2-1');
        rowContainer.classList.add('border-1px-dove-gray');
        var inputFloor = document.createElement("SELECT");
        inputFloor.classList.add('rectangle-2');
        inputFloor.classList.add('border-1px-navy-blue');
        inputFloor.id = ('tableFloor' + index);
        rowContainer.appendChild(inputFloor);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].floor)) {
            var optionFloorEmpty = document.createElement('option');
            optionFloorEmpty.value = '';
            optionFloorEmpty.innerHTML = '';
            inputFloor.appendChild(optionFloorEmpty);
            for (let i = 0; i < store.get('configList')[0].floor.length; i++) {
                var optionFloor = document.createElement('option');
                optionFloor.value = store.get('configList')[0].floor[i];
                optionFloor.innerHTML = store.get('configList')[0].floor[i];
                inputFloor.appendChild(optionFloor);
            }
        }
        var inputZirBana = document.createElement("INPUT");
        inputZirBana.classList.add('rectangle-2-1');
        inputZirBana.classList.add('border-1px-navy-blue');
        inputZirBana.id = ('tableZirBana' + index);
        rowContainer.appendChild(inputZirBana);
        var inputKhab = document.createElement("INPUT");
        inputKhab.classList.add('rectangle-2-1');
        inputKhab.classList.add('border-1px-navy-blue');
        inputKhab.id = ('tableKhab' + index);
        rowContainer.appendChild(inputKhab);
        var inputBalcon = document.createElement("INPUT");
        inputBalcon.classList.add('ch-open');
        inputBalcon.classList.add('border-1px-denim');
        inputBalcon.style.marginRight = '15px';
        inputBalcon.type = 'checkbox';
        inputBalcon.id = ('tableBalcon' + index);
        rowContainer.appendChild(inputBalcon);
        var inputTelephone = document.createElement("SELECT");
        inputTelephone.classList.add('rectangle-2');
        inputTelephone.classList.add('border-1px-navy-blue');
        inputTelephone.id = ('tableTelephone' + index);
        rowContainer.appendChild(inputTelephone);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].telephone)) {
            var optionTelephoneEmpty = document.createElement('option');
            optionTelephoneEmpty.value = '';
            optionTelephoneEmpty.innerHTML = '';
            inputTelephone.appendChild(optionTelephoneEmpty);
            for (let i = 0; i < store.get('configList')[0].telephone.length; i++) {
                var optionTelephone = document.createElement('option');
                optionTelephone.value = store.get('configList')[0].telephone[i];
                optionTelephone.innerHTML = store.get('configList')[0].telephone[i];
                inputTelephone.appendChild(optionTelephone);
            }
        }
        var inputKitchen = document.createElement("SELECT");
        inputKitchen.classList.add('rectangle-26');
        inputKitchen.classList.add('border-1px-navy-blue');
        inputKitchen.id = ('tableKitchen' + index);
        rowContainer.appendChild(inputKitchen);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].kitchenService)) {
            var optionKitchenEmpty = document.createElement('option');
            optionKitchenEmpty.value = '';
            optionKitchenEmpty.innerHTML = '';
            inputKitchen.appendChild(optionKitchenEmpty);
            for (let i = 0; i < store.get('configList')[0].kitchenService.length; i++) {
                var optionKitchen = document.createElement('option');
                optionKitchen.value = store.get('configList')[0].kitchenService[i];
                optionKitchen.innerHTML = store.get('configList')[0].kitchenService[i];
                inputKitchen.appendChild(optionKitchen);
            }
        }
        var inputOpen = document.createElement("INPUT");
        inputOpen.classList.add('ch-open');
        inputOpen.classList.add('border-1px-denim');
        inputOpen.id = ('tableOpen' + index);
        inputOpen.type = 'checkbox';
        rowContainer.appendChild(inputOpen);
        var inputWC = document.createElement("SELECT");
        inputWC.classList.add('rectangle-27');
        inputWC.classList.add('border-1px-navy-blue');
        inputWC.id = ('tableWC' + index);
        rowContainer.appendChild(inputWC);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].wcService)) {
            var optionWCEmpty = document.createElement('option');
            optionWCEmpty.value = '';
            optionWCEmpty.innerHTML = '';
            inputWC.appendChild(optionWCEmpty);
            for (let i = 0; i < store.get('configList')[0].wcService.length; i++) {
                var optionWC = document.createElement('option');
                optionWC.value = store.get('configList')[0].wcService[i];
                optionWC.innerHTML = store.get('configList')[0].wcService[i];
                inputWC.appendChild(optionWC);
            }
        }
        var inputKafPoosh = document.createElement("SELECT");
        inputKafPoosh.classList.add('rectangle-28');
        inputKafPoosh.classList.add('border-1px-navy-blue');
        inputKafPoosh.id = ('tableKafPoosh' + index);
        rowContainer.appendChild(inputKafPoosh);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].floorCovering)) {
            var optionFloorCoveringEmpty = document.createElement('option');
            optionFloorCoveringEmpty.value = '';
            optionFloorCoveringEmpty.innerHTML = '';
            inputKafPoosh.appendChild(optionFloorCoveringEmpty);
            for (let i = 0; i < store.get('configList')[0].floorCovering.length; i++) {
                var optionFloorCovering = document.createElement('option');
                optionFloorCovering.value = store.get('configList')[0].floorCovering[i];
                optionFloorCovering.innerHTML = store.get('configList')[0].floorCovering[i];
                inputKafPoosh.appendChild(optionFloorCovering);
            }
        }
        var inputParking = document.createElement("SELECT");
        inputParking.classList.add('rectangle-17');
        inputParking.classList.add('border-1px-navy-blue');
        inputParking.id = ('tableParking' + index);
        rowContainer.appendChild(inputParking);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].parking)) {
            var optionParkingEmpty = document.createElement('option');
            optionParkingEmpty.value = '';
            optionParkingEmpty.innerHTML = '';
            inputParking.appendChild(optionParkingEmpty);
            for (let i = 0; i < store.get('configList')[0].parking.length; i++) {
                var optionParking = document.createElement('option');
                optionParking.value = store.get('configList')[0].parking[i];
                optionParking.innerHTML = store.get('configList')[0].parking[i];
                inputParking.appendChild(optionParking);
            }
        }
        var inputAnbari = document.createElement("SELECT");
        inputAnbari.classList.add('rectangle-17');
        inputAnbari.classList.add('border-1px-navy-blue');
        inputAnbari.id = ('tableAnbari' + index);
        rowContainer.appendChild(inputAnbari);
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].warehouse)) {
            var optionWarehouseEmpty = document.createElement('option');
            optionWarehouseEmpty.value = '';
            optionWarehouseEmpty.innerHTML = '';
            inputAnbari.appendChild(optionWarehouseEmpty);
            for (let i = 0; i < store.get('configList')[0].warehouse.length; i++) {
                var optionWarehouse = document.createElement('option');
                optionWarehouse.value = store.get('configList')[0].warehouse[i];
                optionWarehouse.innerHTML = store.get('configList')[0].warehouse[i];
                inputAnbari.appendChild(optionWarehouse);
            }
        }
        var inputTotalAmount = document.createElement("INPUT");
        inputTotalAmount.classList.add('rectangle');
        inputTotalAmount.classList.add('border-1px-navy-blue');
        inputTotalAmount.id = ('tableTotalAmount' + index);
        rowContainer.appendChild(inputTotalAmount);
        var inputMetri = document.createElement("INPUT");
        inputMetri.classList.add('rectangle-30');
        inputMetri.classList.add('border-1px-navy-blue');
        inputMetri.id = ('tableMetri' + index);
        rowContainer.appendChild(inputMetri);
        document.querySelector('#table').insertBefore(rowContainer, document.querySelector('#table').firstChild);
        $('#' + 'tableFloor' + index).editableSelect();
        $('#' + 'tableKafPoosh' + index).editableSelect();
        $('#' + 'tableAnbari' + index).editableSelect();
        $('#' + 'tableParking' + index).editableSelect();
        $('#' + 'tableWC' + index).editableSelect();
        $('#' + 'tableTelephone' + index).editableSelect();
        $('#' + 'tableKitchen' + index).editableSelect();

        var tableMetri = document.querySelector('#tableMetri' + index);
        tableMetri.addEventListener("input", (event) => {
            tableMetri.value = StringUtils.commify(event.target.value)
        });
        tableMetri.addEventListener('keydown', function (event) {
            if (event.key === 'Shift') {
                if (!_.isEmpty(tableMetri.value)) {
                    tableMetri.value = StringUtils.commify((parseInt(tableMetri.value.replace(/,/g, '')) * 1000) + '')
                }
            }
        });

        var tableTotalAmount = document.querySelector('#tableTotalAmount' + index);
        tableTotalAmount.addEventListener("input", (event) => {
            tableTotalAmount.value = StringUtils.commify(event.target.value)
        });
        tableTotalAmount.addEventListener('keydown', function (event) {
            if (event.key === 'Shift') {
                if (!_.isEmpty(tableTotalAmount.value)) {
                    tableTotalAmount.value = StringUtils.commify((parseInt(tableTotalAmount.value.replace(/,/g, '')) * 1000) + '')
                }
            }
        });
    }

    //remove button click in table
    function onRemoveTableClick() {
        var index = document.querySelector('#table').childElementCount;
        (index !== 2) && document.querySelector('#table').removeChild(document.querySelector('#table').childNodes[0]);
    }

    // Get the modal
    var facilityModal = document.getElementById("myModal");

    // Get the <span> element that closes the modal
    var facilityCloseModal = document.getElementsByClassName("close")[0];

    //facilities button click
    function onFacilityClick() {
        facilityModal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    facilityCloseModal.onclick = function () {
        facilityModal.style.display = "none";
    };

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == facilityModal) {
            facilityModal.style.display = "none";
        }
    };

    function saleTypeClickEvent(saleType) {
        if (saleType === 'فروش' || saleType === 'معاوضه' || saleType === 'مشارکت') {
            document.getElementById("rentPriceLabel").style.display = "none";
            document.getElementById("rentPrice").style.display = "none";
            document.getElementById("mortgagePriceLabel").style.display = "none";
            document.getElementById("mortgagePrice").style.display = "none";
            document.getElementById("unitComment").style.display = "none";

            document.getElementById("metriLabel").style.display = "block";
            document.getElementById("metri").style.display = "block";
            document.getElementById("totalPriceLabel").style.display = "block";
            document.getElementById("totalPrice").style.display = "block";
            document.getElementById("priceComment").style.display = "block";
        } else {
            document.getElementById("rentPriceLabel").style.display = "block";
            document.getElementById("rentPrice").style.display = "block";
            document.getElementById("mortgagePriceLabel").style.display = "block";
            document.getElementById("mortgagePrice").style.display = "block";
            document.getElementById("unitComment").style.display = "block";

            document.getElementById("metriLabel").style.display = "none";
            document.getElementById("metri").style.display = "none";
            document.getElementById("totalPriceLabel").style.display = "none";
            document.getElementById("totalPrice").style.display = "none";
            document.getElementById("priceComment").style.display = "none";
        }
    }

    $('#apartment').editableSelect();
    $('#land').editableSelect();
    $('#vila').editableSelect();
    $('#mostaghelat').editableSelect();
    $('#kolangi').editableSelect();
    $('#office').editableSelect();
    $('#pool').editableSelect();
    $('#sona').editableSelect();
    $('#jakoozi').editableSelect();
    $('#view').editableSelect();
    $('#documentState').editableSelect();
    $('#InformationSource').editableSelect();
    $('#tableTelephone0').editableSelect();
    $('#tableFloor0').editableSelect();
    $('#tableKitchen0').editableSelect();
    $('#tableWC0').editableSelect();
    $('#tableParking0').editableSelect();
    $('#tableAnbari0').editableSelect();
    $('#tableKafPoosh0').editableSelect();
    $('#residenceOwner').editableSelect();
    $('#patio').editableSelect();
    $('#basement').editableSelect();
    $('#employeeService').editableSelect();
    $('#backYard').editableSelect();
    $('#yard').editableSelect();
    $('#corrective').editableSelect();
    $('#unitComment').editableSelect();
    $('#priceComment').editableSelect();

    var checkedEquipmentList = [];
    var btnSubmit = document.getElementById("btn-submit-modal");
    btnSubmit.addEventListener("click", function () {
        $("#equipmentResultList").empty();
        equipments = [];
        if (!_.isEmpty(store.get('configList')) && !_.isEmpty(store.get('configList')[0].equipments)) {
            var equipmentResultListDiv = document.getElementById("equipmentResultList");
            for (var i = 0; i < store.get('configList')[0].equipments.length; i++) {
                if (document.getElementById(store.get('configList')[0].equipments[i]).checked) {
                    checkedEquipmentList.push(store.get('configList')[0].equipments[i]);
                    var equipmentResultDiv = document.createElement('DIV');
                    equipmentResultDiv.className = 'equipmentResult';
                    equipmentResultDiv.innerHTML = store.get('configList')[0].equipments[i];
                    equipmentResultListDiv.appendChild(equipmentResultDiv);
                    equipments.push(store.get('configList')[0].equipments[i]);
                }
            }
        }
        facilityModal.style.display = "none";
    });

    function validateInsertFile(fileArray) {
        let validationArray = [];
        let file = fileArray[0];
        if (_.isEmpty(file.address)) {
            validationArray.push('آدرس');
        }
        if (_.isEmpty(file.tel1)) {
            validationArray.push('تلفن');
        }
        if (_.isEmpty(file.sale)) {
            validationArray.push('فروش - رهن - اجاره');
        }
        if (_.isEmpty(file.regionCode)) {
            validationArray.push('کد منطقه');
        }
        if (_.isEmpty(file.regionName)) {
            validationArray.push('نام منطقه');
        }
        if (_.isEmpty(file.owner)) {
            validationArray.push('نام مالک');
        }
        if (_.isEmpty(file.apartment) && _.isEmpty(file.land) && _.isEmpty(file.vila)
            && _.isEmpty(file.building) && _.isEmpty(file.home) && _.isEmpty(file.oldHouse)
            && _.isEmpty(file.office) && file.store && file.suite) {
            validationArray.push('نوع ملک');
        }
        if (!_.isEmpty(file.apartment) && isNaN(file.floorNo)) {
            validationArray.push('تعداد طبقات');
        }
        return validationArray;
    }

    function showValidationError(validationArray) {
        ipcRenderer.send('showFileValidationError', validationArray);
    }

    // Get the btnSubmit
    var btnNew = document.getElementById("btn-new");
    btnNew.addEventListener("click", function () {
        remote.getCurrentWindow().reload();
    });

    // Get the btnSubmit
    var btnSubmit = document.getElementById("btn-submit");
    btnSubmit.addEventListener("click", submitFile);

    function submitFile() {
        var table = document.querySelector('#table');
        var requestArray = [];
        //for (var index in table.rows) {
        for (var index = 0; index < table.childElementCount - 1; index++) {
            let saleTypeValue = ['خارجی','معاوضه','مشارکت', 'رهن', 'اجاره', 'فروش'];
            var saleTypeList = document.getElementsByName('saleType[]');
            var saleType = "";
            for (var i = 0, n = saleTypeList.length; i < n; i++) {
                if (saleTypeList[i].checked) {
                    saleType = saleTypeValue[i];
                }
            }
            var participationList = document.getElementsByName('participation[]');
            let participationValue = ['همه', 'خصوصی', 'تعاون مشاور'];
            var participation = "";
            for (var j = 0, m = participationList.length; j < m; j++) {
                if (participationList[j].checked) {
                    participation = participationValue[j];
                }
            }
            var requestBody = {
                Id: document.querySelector('#number').value,
                Number: parseInt(document.querySelector('#number').value.split('fl-')[1]),
                tel1: document.querySelector('#tel1').value,
                tel2: document.querySelector('#tel2').value,
                tel3: document.querySelector('#tel3').value,
                // tel4: document.querySelector('#tel4').value,
                // tel5: document.querySelector('#tel5').value,
                address: document.querySelector('#address').value,
                owner: document.querySelector('#owner').value,
                regionCode: StringUtils.convertNumbersToEnglish(document.querySelector('#regionCode').value),
                regionName: document.querySelector('#regionName').value,
                date: parseInt(StringUtils.convertShamsiToMillisecond(document.querySelector('#date').value)),
                sale: saleType,
                rent: parseInt(document.querySelector('#rentPrice').value.replace(/,/g, '')),
                mortgage: parseInt(document.querySelector('#mortgagePrice').value.replace(/,/g, '')),
                apartment: document.querySelector('#apartment').value,
                land: document.querySelector('#land').value,
                vila: document.querySelector('#vila').value,
                building: document.querySelector('#mostaghelat').value,
                home: document.querySelector('#home').checked,
                oldHouse: document.querySelector('#kolangi').value,
                office: document.querySelector('#office').value,
                store: document.querySelector('#store').checked,
                suite: document.querySelector('#suite').checked,
                north: document.querySelector('#north').checked,
                south: document.querySelector('#south').checked,
                east: document.querySelector('#east').checked,
                west: document.querySelector('#west').checked,
                floorNo: parseInt(document.querySelector('#tabaghat').value),
                unitNo: parseInt(document.querySelector('#vahed').value),
                unitComment: document.querySelector('#unitComment').value,
                totalPrice: parseInt(document.querySelector('#totalPrice').value.replace(/,/g, '')),
                totalUnit: document.querySelector('#totalVahed').value,
                priceComment: document.querySelector('#priceComment').value,
                pool: document.querySelector('#pool').value,
                sona: document.querySelector('#sona').value,
                jakozi: document.querySelector('#jakoozi').value,
                area: parseFloat(document.querySelector('#area').value),
                density: parseFloat(document.querySelector('#density').value),
                front: parseFloat(document.querySelector('#toolBar').value),
                height: parseFloat(document.querySelector('#height').value),
                modify: document.querySelector('#corrective').value,
                yard: document.querySelector('#yard').value,
                smallYard: document.querySelector('#backYard').value,
                underGround: document.querySelector('#basement').value,
                employeeService: document.querySelector('#employeeService').value,
                patio: document.querySelector('#patio').value,
                residential: document.querySelector('#residential').checked,
                empty: document.querySelector('#discharge').value,
                rented: document.querySelector('#rented').value,
                age: parseInt(document.querySelector('#ageBuilding').value),
                frontKind: document.querySelector('#view').value,
                source: document.querySelector('#InformationSource').value,
                publisher: document.querySelector('#ownerName').value,
                ownerInHouse: document.querySelector('#residenceOwner').value,
                documentKind: document.querySelector('#documentState').value,
                comment: document.querySelector('#additionalDescription').value,
                inHurry: document.querySelector('#isHurry').checked,
                equipments: equipments,
                participation: participation,
                username: document.querySelector('#username').value,
                unitFloor: document.querySelector('#tableFloor' + index).value,
                unitBuiltUpArea: document.querySelector('#tableZirBana' + index).value,
                unitRoom: document.querySelector('#tableKhab' + index).value,
                unitBalcony: document.querySelector('#tableBalcon' + index).checked,
                unitTelephone: document.querySelector('#tableTelephone' + index).value,
                unitKitchen: document.querySelector('#tableKitchen' + index).value,
                unitWC: document.querySelector('#tableWC' + index).value,
                unitFloorCovering: document.querySelector('#tableKafPoosh' + index).value,
                unitParking: document.querySelector('#tableParking' + index).value,
                unitAnbari: document.querySelector('#tableAnbari' + index).value,
                unitOpen: document.querySelector('#tableOpen' + index).checked,
                unitTotalAmount: parseInt(document.querySelector('#tableTotalAmount' + index).value.replace(/,/g, '')),
                unitMetri: parseInt(document.querySelector('#tableMetri' + index).value.replace(/,/g, '')),
                unitPrice: parseInt(document.querySelector('#metri').value.replace(/,/g, '')),
            };
            requestArray.push(requestBody);
        }
        let validationArray = validateInsertFile(requestArray);
        isDisabled ? ipcRenderer.send('editFile', {
                Id: document.querySelector('#number').value,
                isDeleted: false,
                isSold: false,
                isRented: false,
                isDontCall: false,
            }) :
            (isEdit ? ipcRenderer.send('editFile', requestArray[0]) :
                (_.isEmpty(validationArray) ? ipcRenderer.send('setFile', requestArray) : showValidationError(validationArray)));
    }

    function onFileStateChange(id) {
        if (store.get('userData').deleteFile) {
            var requestBody = {
                Id: document.querySelector('#number').value
            };
            switch (id) {
                case 'delete':
                    requestBody.isDeleted = true;
                    ipcRenderer.send('editFile', requestBody);
                    break;
                case 'sold':
                    requestBody.isSold = true;
                    ipcRenderer.send('editFile', requestBody);
                    break;
                case 'rented':
                    requestBody.isRented = true;
                    ipcRenderer.send('editFile', requestBody);
                    break;
                case 'dontCall':
                    requestBody.isDontCall = true;
                    ipcRenderer.send('editFile', requestBody);
                    break;
            }
        } else {
            ipcRenderer.send('showError', 'دسترسی برای حذف فایل وجود ندارد.');
        }
    }

    function onFilePrintClick() {
        ipcRenderer.send('openPrintFile', editFile);
    }

    function saleTypePermission(saleType) {
        if (store.get('userData').saleTypePermission && store.get('userData').saleTypePermission.includes(saleType)) {
            return true;
        }
        return false;
    }

    function noeMelkPermission(noeMelk) {
        if (store.get('userData').noeMelkPermission && store.get('userData').noeMelkPermission.includes(noeMelk)) {
            return true;
        }
        return false;
    }
</script>
</body>
</html>
